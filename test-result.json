
> st-gts-calculator@2.7.0 test:run K:\AiChat\巨大娘计算器
> vitest run "--reporter=json"

{"numTotalTestSuites":331,"numPassedTestSuites":310,"numFailedTestSuites":21,"numPendingTestSuites":0,"numTotalTests":700,"numPassedTests":684,"numFailedTests":16,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1770124075747,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Composable: useCalculator","初始状态"],"fullName":"Composable: useCalculator 初始状态 应该有正确的默认值","status":"passed","title":"应该有正确的默认值","duration":2.946100000000115,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCalculator","doCalculate"],"fullName":"Composable: useCalculator doCalculate 当身高未输入时，应该显示警告","status":"passed","title":"当身高未输入时，应该显示警告","duration":1.7912000000001171,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCalculator","doCalculate"],"fullName":"Composable: useCalculator doCalculate 当身高为 0 时，应该显示警告","status":"passed","title":"当身高为 0 时，应该显示警告","duration":0.6775000000002365,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCalculator","doCalculate"],"fullName":"Composable: useCalculator doCalculate 当身高为负数时，应该显示警告","status":"passed","title":"当身高为负数时，应该显示警告","duration":2.3269000000000233,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCalculator","doCalculate"],"fullName":"Composable: useCalculator doCalculate 当计算巨大娘（倍率>=1）时，应该返回巨大娘数据","status":"passed","title":"当计算巨大娘（倍率>=1）时，应该返回巨大娘数据","duration":5.834200000000237,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCalculator","doCalculate"],"fullName":"Composable: useCalculator doCalculate 当计算小人（倍率<1）时，应该返回小人数据","status":"passed","title":"当计算小人（倍率<1）时，应该返回小人数据","duration":0.8852999999999156,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCalculator","doCalculate"],"fullName":"Composable: useCalculator doCalculate 当倍率刚好为 1 时，应该返回巨大娘数据","status":"passed","title":"当倍率刚好为 1 时，应该返回巨大娘数据","duration":0.7204000000001543,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCalculator","clearCalcResult"],"fullName":"Composable: useCalculator clearCalcResult 应该清除计算结果","status":"passed","title":"应该清除计算结果","duration":0.745600000000195,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCalculator","resetCalculator"],"fullName":"Composable: useCalculator resetCalculator 应该重置所有输入和结果","status":"passed","title":"应该重置所有输入和结果","duration":0.9896999999996297,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCalculator","hasResult computed"],"fullName":"Composable: useCalculator hasResult computed 当没有结果时应该返回 false","status":"passed","title":"当没有结果时应该返回 false","duration":0.31959999999980937,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCalculator","hasResult computed"],"fullName":"Composable: useCalculator hasResult computed 当有结果时应该返回 true","status":"passed","title":"当有结果时应该返回 true","duration":0.4981999999999971,"failureMessages":[],"meta":{}}],"startTime":1770124079307,"endTime":1770124079325.4983,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/composables/useCalculator.test.ts"},{"assertionResults":[{"ancestorTitles":["Composable: useCharacters","初始状态"],"fullName":"Composable: useCharacters 初始状态 应该有正确的默认值","status":"passed","title":"应该有正确的默认值","duration":9.950700000000325,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","characterList computed"],"fullName":"Composable: useCharacters characterList computed 应该将 Map 转换为数组","status":"passed","title":"应该将 Map 转换为数组","duration":2.9852999999998246,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","giantCharacters / tinyCharacters computed"],"fullName":"Composable: useCharacters giantCharacters / tinyCharacters computed 应该正确分类巨大娘和小人","status":"passed","title":"应该正确分类巨大娘和小人","duration":2.0289999999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","giantCharacters / tinyCharacters computed"],"fullName":"Composable: useCharacters giantCharacters / tinyCharacters computed 边界情况：倍率刚好为 1 应该归类为巨大娘","status":"passed","title":"边界情况：倍率刚好为 1 应该归类为巨大娘","duration":0.9546999999997752,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","characterCount computed"],"fullName":"Composable: useCharacters characterCount computed 应该返回角色总数","status":"passed","title":"应该返回角色总数","duration":0.9902000000001863,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","isDamageEnabled computed"],"fullName":"Composable: useCharacters isDamageEnabled computed 应该反映设置中的损害计算开关状态","status":"passed","title":"应该反映设置中的损害计算开关状态","duration":1.1226999999998952,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","refreshCharacters"],"fullName":"Composable: useCharacters refreshCharacters 应该调用 store 的 refresh 方法","status":"passed","title":"应该调用 store 的 refresh 方法","duration":1.9661000000000968,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","recalculateDamage"],"fullName":"Composable: useCharacters recalculateDamage 应该调用 store 的 recalculateDamage 方法","status":"passed","title":"应该调用 store 的 recalculateDamage 方法","duration":0.9370000000003529,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","formatDamageRange"],"fullName":"Composable: useCharacters formatDamageRange 当 min 和 max 都为 0 时，应该返回 \"0\"","status":"passed","title":"当 min 和 max 都为 0 时，应该返回 \"0\"","duration":1.0344999999997526,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","formatDamageRange"],"fullName":"Composable: useCharacters formatDamageRange 当 min 等于 max 时，应该只返回一个数值","status":"passed","title":"当 min 等于 max 时，应该只返回一个数值","duration":0.6927999999998065,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","formatDamageRange"],"fullName":"Composable: useCharacters formatDamageRange 应该正确格式化千级数值","status":"passed","title":"应该正确格式化千级数值","duration":0.5637000000001535,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","formatDamageRange"],"fullName":"Composable: useCharacters formatDamageRange 应该正确格式化万级数值","status":"passed","title":"应该正确格式化万级数值","duration":0.4338999999999942,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","formatDamageRange"],"fullName":"Composable: useCharacters formatDamageRange 应该正确格式化亿级数值","status":"passed","title":"应该正确格式化亿级数值","duration":0.4236000000000786,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","formatDamageRange"],"fullName":"Composable: useCharacters formatDamageRange 应该正确格式化混合数值","status":"passed","title":"应该正确格式化混合数值","duration":0.40659999999979846,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useCharacters","damageSummary computed"],"fullName":"Composable: useCharacters damageSummary computed 应该调用 store 的 getDamageSummary 方法","status":"passed","title":"应该调用 store 的 getDamageSummary 方法","duration":0.6494000000002416,"failureMessages":[],"meta":{}}],"startTime":1770124079963,"endTime":1770124079988.6494,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/composables/useCharacters.test.ts"},{"assertionResults":[{"ancestorTitles":["Composable: usePrompts","初始状态"],"fullName":"Composable: usePrompts 初始状态 应该有正确的默认值","status":"passed","title":"应该有正确的默认值","duration":12.164499999999862,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","enabledTemplates computed"],"fullName":"Composable: usePrompts enabledTemplates computed 应该只返回启用的模板","status":"passed","title":"应该只返回启用的模板","duration":4.343699999999899,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","toggleTemplate"],"fullName":"Composable: usePrompts toggleTemplate 应该切换模板启用状态","status":"passed","title":"应该切换模板启用状态","duration":3.0389000000000124,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","startEditTemplate / cancelEditTemplate"],"fullName":"Composable: usePrompts startEditTemplate / cancelEditTemplate startEditTemplate 应该设置编辑状态","status":"passed","title":"startEditTemplate 应该设置编辑状态","duration":1.6291000000001077,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","startEditTemplate / cancelEditTemplate"],"fullName":"Composable: usePrompts startEditTemplate / cancelEditTemplate cancelEditTemplate 应该清除编辑状态","status":"passed","title":"cancelEditTemplate 应该清除编辑状态","duration":1.033799999999701,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","saveTemplate"],"fullName":"Composable: usePrompts saveTemplate 当没有编辑中的模板时应该返回 false","status":"passed","title":"当没有编辑中的模板时应该返回 false","duration":0.9349999999999454,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","saveTemplate"],"fullName":"Composable: usePrompts saveTemplate 当有编辑中的模板时应该保存并返回 true","status":"passed","title":"当有编辑中的模板时应该保存并返回 true","duration":1.9695000000001528,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","startCreateTemplate / cancelCreateTemplate"],"fullName":"Composable: usePrompts startCreateTemplate / cancelCreateTemplate startCreateTemplate 应该设置创建状态","status":"passed","title":"startCreateTemplate 应该设置创建状态","duration":1.0738999999998668,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","startCreateTemplate / cancelCreateTemplate"],"fullName":"Composable: usePrompts startCreateTemplate / cancelCreateTemplate cancelCreateTemplate 应该重置创建状态","status":"passed","title":"cancelCreateTemplate 应该重置创建状态","duration":1.1030000000000655,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","createTemplate"],"fullName":"Composable: usePrompts createTemplate 当模板名称为空时应该显示警告并返回 false","status":"passed","title":"当模板名称为空时应该显示警告并返回 false","duration":1.5079000000000633,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","createTemplate"],"fullName":"Composable: usePrompts createTemplate 当模板名称有效时应该创建模板并返回 true","status":"passed","title":"当模板名称有效时应该创建模板并返回 true","duration":1.146600000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","deleteTemplate"],"fullName":"Composable: usePrompts deleteTemplate 当用户确认时应该删除模板并返回 true","status":"passed","title":"当用户确认时应该删除模板并返回 true","duration":1.818699999999808,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","deleteTemplate"],"fullName":"Composable: usePrompts deleteTemplate 当用户取消时应该返回 false","status":"passed","title":"当用户取消时应该返回 false","duration":1.6619999999998072,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","moveTemplate"],"fullName":"Composable: usePrompts moveTemplate 应该调用 store 的 moveTemplate 方法","status":"passed","title":"应该调用 store 的 moveTemplate 方法","duration":1.3676000000000386,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","resetPrompts"],"fullName":"Composable: usePrompts resetPrompts 当用户确认时应该重置模板","status":"passed","title":"当用户确认时应该重置模板","duration":0.8904999999999745,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","openPromptsPanel / closePromptsPanel"],"fullName":"Composable: usePrompts openPromptsPanel / closePromptsPanel openPromptsPanel 应该打开面板","status":"passed","title":"openPromptsPanel 应该打开面板","duration":0.4818000000000211,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: usePrompts","openPromptsPanel / closePromptsPanel"],"fullName":"Composable: usePrompts openPromptsPanel / closePromptsPanel closePromptsPanel 应该关闭面板并清除编辑状态","status":"passed","title":"closePromptsPanel 应该关闭面板并清除编辑状态","duration":0.6068000000000211,"failureMessages":[],"meta":{}}],"startTime":1770124079333,"endTime":1770124079371.6067,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/composables/usePrompts.test.ts"},{"assertionResults":[{"ancestorTitles":["Composable: useSettings","初始状态"],"fullName":"Composable: useSettings 初始状态 应该有正确的默认值","status":"passed","title":"应该有正确的默认值","duration":7.037200000000212,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useSettings","toggleEnabled"],"fullName":"Composable: useSettings toggleEnabled 应该切换启用状态","status":"passed","title":"应该切换启用状态","duration":6.703899999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useSettings","toggleEnabled"],"fullName":"Composable: useSettings toggleEnabled 多次切换应该正确工作","status":"passed","title":"多次切换应该正确工作","duration":1.9328999999997905,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useSettings","openSettings / closeSettings"],"fullName":"Composable: useSettings openSettings / closeSettings openSettings 应该打开设置面板","status":"passed","title":"openSettings 应该打开设置面板","duration":0.8402999999998428,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useSettings","openSettings / closeSettings"],"fullName":"Composable: useSettings openSettings / closeSettings closeSettings 应该关闭设置面板","status":"passed","title":"closeSettings 应该关闭设置面板","duration":0.8753000000001521,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useSettings","debugLog / debugError"],"fullName":"Composable: useSettings debugLog / debugError debugLog 应该记录调试日志","status":"passed","title":"debugLog 应该记录调试日志","duration":31.65679999999975,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useSettings","debugLog / debugError"],"fullName":"Composable: useSettings debugLog / debugError debugError 应该记录错误日志","status":"passed","title":"debugError 应该记录错误日志","duration":6.890700000000379,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useSettings","clearDebugLogs"],"fullName":"Composable: useSettings clearDebugLogs 应该清除所有调试日志","status":"passed","title":"应该清除所有调试日志","duration":1.3519000000001142,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useSettings","与 Store 的集成"],"fullName":"Composable: useSettings 与 Store 的集成 settings 应该响应式地反映 Store 中的变化","status":"passed","title":"settings 应该响应式地反映 Store 中的变化","duration":1.2721999999998843,"failureMessages":[],"meta":{}}],"startTime":1770124079305,"endTime":1770124079364.2722,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/composables/useSettings.test.ts"},{"assertionResults":[{"ancestorTitles":["Composable: useWorldview","初始状态"],"fullName":"Composable: useWorldview 初始状态 应该有正确的默认值","status":"passed","title":"应该有正确的默认值","duration":13.721199999999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","setCurrentWorldview"],"fullName":"Composable: useWorldview setCurrentWorldview 应该切换当前世界观","status":"passed","title":"应该切换当前世界观","duration":3.390899999999874,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","startCreateWorldview"],"fullName":"Composable: useWorldview startCreateWorldview 应该初始化创建状态","status":"passed","title":"应该初始化创建状态","duration":1.6561000000001513,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","startEditWorldview"],"fullName":"Composable: useWorldview startEditWorldview 应该使用当前世界观数据初始化编辑状态","status":"passed","title":"应该使用当前世界观数据初始化编辑状态","duration":1.34900000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","cancelEditWorldview"],"fullName":"Composable: useWorldview cancelEditWorldview 应该重置编辑状态","status":"passed","title":"应该重置编辑状态","duration":1.2604000000001179,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","saveWorldview"],"fullName":"Composable: useWorldview saveWorldview 当名称为空时应该显示警告并返回 false","status":"passed","title":"当名称为空时应该显示警告并返回 false","duration":2.0470000000000255,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","saveWorldview"],"fullName":"Composable: useWorldview saveWorldview 创建新世界观时应该添加到列表","status":"passed","title":"创建新世界观时应该添加到列表","duration":2.6626000000001113,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","saveWorldview"],"fullName":"Composable: useWorldview saveWorldview 编辑现有世界观时应该更新数据","status":"passed","title":"编辑现有世界观时应该更新数据","duration":2.524399999999787,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","deleteWorldview"],"fullName":"Composable: useWorldview deleteWorldview 当用户确认时应该删除世界观并返回 true","status":"passed","title":"当用户确认时应该删除世界观并返回 true","duration":3.5252000000000407,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","deleteWorldview"],"fullName":"Composable: useWorldview deleteWorldview 当用户取消时应该返回 false","status":"passed","title":"当用户取消时应该返回 false","duration":1.2496000000001004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","resetWorldviews"],"fullName":"Composable: useWorldview resetWorldviews 当用户确认时应该重置世界观","status":"passed","title":"当用户确认时应该重置世界观","duration":2.0260000000002947,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","openWorldviewPanel / closeWorldviewPanel"],"fullName":"Composable: useWorldview openWorldviewPanel / closeWorldviewPanel openWorldviewPanel 应该打开面板","status":"passed","title":"openWorldviewPanel 应该打开面板","duration":2.1221999999997934,"failureMessages":[],"meta":{}},{"ancestorTitles":["Composable: useWorldview","openWorldviewPanel / closeWorldviewPanel"],"fullName":"Composable: useWorldview openWorldviewPanel / closeWorldviewPanel closeWorldviewPanel 应该关闭面板并清除编辑状态","status":"passed","title":"closeWorldviewPanel 应该关闭面板并清除编辑状态","duration":2.5943999999999505,"failureMessages":[],"meta":{}}],"startTime":1770124079305,"endTime":1770124079347.5945,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/composables/useWorldview.test.ts"},{"assertionResults":[{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 1 应该返回级别 Mini级","status":"passed","title":"倍率 1 应该返回级别 Mini级","duration":1.6619999999998072,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 5 应该返回级别 Mini级","status":"passed","title":"倍率 5 应该返回级别 Mini级","duration":0.22890000000006694,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 10 应该返回级别 十倍","status":"passed","title":"倍率 10 应该返回级别 十倍","duration":0.20539999999982683,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 50 应该返回级别 十倍","status":"passed","title":"倍率 50 应该返回级别 十倍","duration":0.12100000000009459,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 100 应该返回级别 Kilo级","status":"passed","title":"倍率 100 应该返回级别 Kilo级","duration":0.25309999999990396,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 500 应该返回级别 Kilo级","status":"passed","title":"倍率 500 应该返回级别 Kilo级","duration":0.14530000000013388,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 1000 应该返回级别 千倍","status":"passed","title":"倍率 1000 应该返回级别 千倍","duration":0.1046000000001186,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 5000 应该返回级别 千倍","status":"passed","title":"倍率 5000 应该返回级别 千倍","duration":0.09110000000009677,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 10000 应该返回级别 Mega级_万倍","status":"passed","title":"倍率 10000 应该返回级别 Mega级_万倍","duration":0.2614999999996144,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 100000 应该返回级别 Mega级_十万倍","status":"passed","title":"倍率 100000 应该返回级别 Mega级_十万倍","duration":0.2177999999998974,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 1000000 应该返回级别 Giga级_百万倍","status":"passed","title":"倍率 1000000 应该返回级别 Giga级_百万倍","duration":0.19329999999990832,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 10000000 应该返回级别 Giga级_千万倍","status":"passed","title":"倍率 10000000 应该返回级别 Giga级_千万倍","duration":0.18659999999999854,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 100000000 应该返回级别 Giga级_亿倍","status":"passed","title":"倍率 100000000 应该返回级别 Giga级_亿倍","duration":0.09789999999975407,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 1000000000 应该返回级别 Tera级_十亿倍","status":"passed","title":"倍率 1000000000 应该返回级别 Tera级_十亿倍","duration":0.09819999999990614,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 10000000000 应该返回级别 Tera级_百亿倍","status":"passed","title":"倍率 10000000000 应该返回级别 Tera级_百亿倍","duration":0.0773999999996704,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 100000000000 应该返回级别 Tera级_千亿倍","status":"passed","title":"倍率 100000000000 应该返回级别 Tera级_千亿倍","duration":0.07839999999987413,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 1000000000000 应该返回级别 星系级_万亿倍","status":"passed","title":"倍率 1000000000000 应该返回级别 星系级_万亿倍","duration":0.07619999999997162,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 10000000000000000 应该返回级别 光年级","status":"passed","title":"倍率 10000000000000000 应该返回级别 光年级","duration":0.07999999999992724,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 倍率 1e+21 应该返回级别 宇宙级","status":"passed","title":"倍率 1e+21 应该返回级别 宇宙级","duration":0.0761000000002241,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 应该返回级别描述","status":"passed","title":"应该返回级别描述","duration":0.16219999999975698,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","巨大化级别"],"fullName":"Core: calculator determineLevel 巨大化级别 极大倍率应该返回宇宙级","status":"passed","title":"极大倍率应该返回宇宙级","duration":0.12750000000005457,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","缩小级别"],"fullName":"Core: calculator determineLevel 缩小级别 倍率 0.1 应该返回级别 十分之一","status":"passed","title":"倍率 0.1 应该返回级别 十分之一","duration":0.14750000000003638,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","缩小级别"],"fullName":"Core: calculator determineLevel 缩小级别 倍率 0.05 应该返回级别 十分之一","status":"passed","title":"倍率 0.05 应该返回级别 十分之一","duration":0.0806999999999789,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","缩小级别"],"fullName":"Core: calculator determineLevel 缩小级别 倍率 0.01 应该返回级别 百分之一","status":"passed","title":"倍率 0.01 应该返回级别 百分之一","duration":0.07819999999992433,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","缩小级别"],"fullName":"Core: calculator determineLevel 缩小级别 倍率 0.005 应该返回级别 百分之一","status":"passed","title":"倍率 0.005 应该返回级别 百分之一","duration":0.06919999999990978,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","缩小级别"],"fullName":"Core: calculator determineLevel 缩小级别 倍率 0.001 应该返回级别 千分之一_毫米级","status":"passed","title":"倍率 0.001 应该返回级别 千分之一_毫米级","duration":0.0706000000000131,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","缩小级别"],"fullName":"Core: calculator determineLevel 缩小级别 倍率 0.0001 应该返回级别 万分之一","status":"passed","title":"倍率 0.0001 应该返回级别 万分之一","duration":0.06899999999995998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","缩小级别"],"fullName":"Core: calculator determineLevel 缩小级别 倍率 0.000001 应该返回级别 微米级","status":"passed","title":"倍率 0.000001 应该返回级别 微米级","duration":0.0704000000000633,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","缩小级别"],"fullName":"Core: calculator determineLevel 缩小级别 倍率 1e-9 应该返回级别 纳米级","status":"passed","title":"倍率 1e-9 应该返回级别 纳米级","duration":0.07159999999976208,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","缩小级别"],"fullName":"Core: calculator determineLevel 缩小级别 倍率 1e-12 应该返回级别 皮米级","status":"passed","title":"倍率 1e-12 应该返回级别 皮米级","duration":0.11999999999989086,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","determineLevel","缩小级别"],"fullName":"Core: calculator determineLevel 缩小级别 极小倍率应该返回亚原子级","status":"passed","title":"极小倍率应该返回亚原子级","duration":0.12089999999989232,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","findSimilarObject"],"fullName":"Core: calculator findSimilarObject 人类身高应该匹配普通成年人","status":"passed","title":"人类身高应该匹配普通成年人","duration":0.33829999999989013,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","findSimilarObject"],"fullName":"Core: calculator findSimilarObject 约 3 米应该匹配单层楼高","status":"passed","title":"约 3 米应该匹配单层楼高","duration":0.13599999999996726,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","findSimilarObject"],"fullName":"Core: calculator findSimilarObject 很小的尺寸应该匹配昆虫","status":"passed","title":"很小的尺寸应该匹配昆虫","duration":0.12210000000004584,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","findSimilarObject"],"fullName":"Core: calculator findSimilarObject 地球尺度应该匹配地球直径","status":"passed","title":"地球尺度应该匹配地球直径","duration":0.11419999999998254,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","findSimilarObject"],"fullName":"Core: calculator findSimilarObject 介于两个参照物之间时应该返回比较描述","status":"passed","title":"介于两个参照物之间时应该返回比较描述","duration":0.17710000000033688,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","基本计算"],"fullName":"Core: calculator calculateGiantessData 基本计算 应该正确计算倍率","status":"passed","title":"应该正确计算倍率","duration":1.248199999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","基本计算"],"fullName":"Core: calculator calculateGiantessData 基本计算 应该正确计算非整数倍率","status":"passed","title":"应该正确计算非整数倍率","duration":0.34540000000015425,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","基本计算"],"fullName":"Core: calculator calculateGiantessData 基本计算 应该使用默认原身高 1.65 米","status":"passed","title":"应该使用默认原身高 1.65 米","duration":0.29799999999977445,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","基本计算"],"fullName":"Core: calculator calculateGiantessData 基本计算 应该包含当前身高和格式化版本","status":"passed","title":"应该包含当前身高和格式化版本","duration":0.23169999999981883,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","基本计算"],"fullName":"Core: calculator calculateGiantessData 基本计算 应该返回正确的级别","status":"passed","title":"应该返回正确的级别","duration":0.22800000000006548,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","身体部位计算"],"fullName":"Core: calculator calculateGiantessData 身体部位计算 应该计算所有身体部位","status":"passed","title":"应该计算所有身体部位","duration":0.525000000000091,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","身体部位计算"],"fullName":"Core: calculator calculateGiantessData 身体部位计算 身高应该等于当前身高","status":"passed","title":"身高应该等于当前身高","duration":0.28969999999981155,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","身体部位计算"],"fullName":"Core: calculator calculateGiantessData 身体部位计算 应该按倍率缩放普通部位","status":"passed","title":"应该按倍率缩放普通部位","duration":0.32090000000016516,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","身体部位计算"],"fullName":"Core: calculator calculateGiantessData 身体部位计算 重量应该按立方缩放","status":"passed","title":"重量应该按立方缩放","duration":0.3878999999997177,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","身体部位计算"],"fullName":"Core: calculator calculateGiantessData 身体部位计算 容积应该按立方缩放","status":"passed","title":"容积应该按立方缩放","duration":0.38459999999986394,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","身体部位计算"],"fullName":"Core: calculator calculateGiantessData 身体部位计算 面积应该按平方缩放","status":"passed","title":"面积应该按平方缩放","duration":0.4229000000000269,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","身体部位计算"],"fullName":"Core: calculator calculateGiantessData 身体部位计算 应该提供格式化的身体部位数据","status":"passed","title":"应该提供格式化的身体部位数据","duration":0.4101999999998043,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","自定义部位"],"fullName":"Core: calculator calculateGiantessData 自定义部位 应该支持自定义部位尺寸","status":"passed","title":"应该支持自定义部位尺寸","duration":0.37489999999979773,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","自定义部位"],"fullName":"Core: calculator calculateGiantessData 自定义部位 应该记录自定义部位","status":"passed","title":"应该记录自定义部位","duration":1.1540999999997439,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","自定义部位"],"fullName":"Core: calculator calculateGiantessData 自定义部位 应该计算自定义部位的倍率","status":"passed","title":"应该计算自定义部位的倍率","duration":0.3971999999998843,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","自定义部位"],"fullName":"Core: calculator calculateGiantessData 自定义部位 自定义部位应该带有标记","status":"passed","title":"自定义部位应该带有标记","duration":0.3348000000000866,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","自定义部位"],"fullName":"Core: calculator calculateGiantessData 自定义部位 非自定义部位不应该有标记","status":"passed","title":"非自定义部位不应该有标记","duration":0.4214000000001761,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","眼中的世界"],"fullName":"Core: calculator calculateGiantessData 眼中的世界 应该计算参照物在巨大娘眼中的相对尺寸","status":"passed","title":"应该计算参照物在巨大娘眼中的相对尺寸","duration":0.32720000000017535,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","眼中的世界"],"fullName":"Core: calculator calculateGiantessData 眼中的世界 应该提供格式化的参照物数据","status":"passed","title":"应该提供格式化的参照物数据","duration":0.36049999999977445,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","眼中的世界"],"fullName":"Core: calculator calculateGiantessData 眼中的世界 应该包含昆虫参照物","status":"passed","title":"应该包含昆虫参照物","duration":0.24589999999989232,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","描述生成"],"fullName":"Core: calculator calculateGiantessData 描述生成 应该生成描述文本","status":"passed","title":"应该生成描述文本","duration":0.30740000000014334,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","描述生成"],"fullName":"Core: calculator calculateGiantessData 描述生成 描述应该包含级别信息","status":"passed","title":"描述应该包含级别信息","duration":0.23409999999967113,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","描述生成"],"fullName":"Core: calculator calculateGiantessData 描述生成 描述应该包含身体数据","status":"passed","title":"描述应该包含身体数据","duration":0.23739999999997963,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","元数据"],"fullName":"Core: calculator calculateGiantessData 元数据 应该包含计算时间戳","status":"passed","title":"应该包含计算时间戳","duration":0.30090000000018335,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","元数据"],"fullName":"Core: calculator calculateGiantessData 元数据 应该包含版本号","status":"passed","title":"应该包含版本号","duration":0.21440000000029613,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","不同原身高"],"fullName":"Core: calculator calculateGiantessData 不同原身高 应该根据原身高调整基准比例","status":"passed","title":"应该根据原身高调整基准比例","duration":0.3166000000001077,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","边界情况"],"fullName":"Core: calculator calculateGiantessData 边界情况 应该处理 1 倍（无变化）","status":"passed","title":"应该处理 1 倍（无变化）","duration":0.24829999999974461,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateGiantessData","边界情况"],"fullName":"Core: calculator calculateGiantessData 边界情况 应该处理极大身高","status":"passed","title":"应该处理极大身高","duration":0.4564999999997781,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","基本计算"],"fullName":"Core: calculator calculateTinyData 基本计算 应该正确计算倍率","status":"passed","title":"应该正确计算倍率","duration":0.5032000000001062,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","基本计算"],"fullName":"Core: calculator calculateTinyData 基本计算 应该使用默认原身高 1.7 米","status":"passed","title":"应该使用默认原身高 1.7 米","duration":0.17810000000008586,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","基本计算"],"fullName":"Core: calculator calculateTinyData 基本计算 应该返回正确的级别","status":"passed","title":"应该返回正确的级别","duration":0.2055000000000291,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","基本计算"],"fullName":"Core: calculator calculateTinyData 基本计算 应该包含当前身高和格式化版本","status":"passed","title":"应该包含当前身高和格式化版本","duration":0.1734999999998763,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","眼中的巨大娘"],"fullName":"Core: calculator calculateTinyData 眼中的巨大娘 应该计算正常女性在小人眼中的相对尺寸","status":"passed","title":"应该计算正常女性在小人眼中的相对尺寸","duration":0.3008999999997286,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","眼中的巨大娘"],"fullName":"Core: calculator calculateTinyData 眼中的巨大娘 应该提供格式化数据","status":"passed","title":"应该提供格式化数据","duration":0.2264999999997599,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","眼中的巨大娘"],"fullName":"Core: calculator calculateTinyData 眼中的巨大娘 不应该包含重量、容积、面积数据","status":"passed","title":"不应该包含重量、容积、面积数据","duration":0.7674999999999272,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","描述生成"],"fullName":"Core: calculator calculateTinyData 描述生成 应该生成描述文本","status":"passed","title":"应该生成描述文本","duration":0.19980000000032305,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","描述生成"],"fullName":"Core: calculator calculateTinyData 描述生成 微小级别应该包含毛发相关描述","status":"passed","title":"微小级别应该包含毛发相关描述","duration":0.25220000000035725,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","边界情况"],"fullName":"Core: calculator calculateTinyData 边界情况 应该处理极小尺寸","status":"passed","title":"应该处理极小尺寸","duration":0.26890000000003056,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","calculateTinyData","元数据"],"fullName":"Core: calculator calculateTinyData 元数据 应该包含计算时间戳和版本","status":"passed","title":"应该包含计算时间戳和版本","duration":0.21279999999978827,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: calculator","巨大娘与小人对比"],"fullName":"Core: calculator 巨大娘与小人对比 100倍巨大娘和1%小人应该产生相反的视角","status":"passed","title":"100倍巨大娘和1%小人应该产生相反的视角","duration":0.26530000000002474,"failureMessages":[],"meta":{}}],"startTime":1770124079211,"endTime":1770124079233.2654,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/core/calculator.test.ts"},{"assertionResults":[{"ancestorTitles":["Core: constants","BASE_HEIGHT"],"fullName":"Core: constants BASE_HEIGHT 应该是合理的基准身高值","status":"passed","title":"应该是合理的基准身高值","duration":1.706499999999778,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","BASE_BODY_PARTS"],"fullName":"Core: constants BASE_BODY_PARTS 应该包含所有必要的身体部位","status":"passed","title":"应该包含所有必要的身体部位","duration":0.5990000000001601,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","BASE_BODY_PARTS"],"fullName":"Core: constants BASE_BODY_PARTS 身高应该等于 BASE_HEIGHT","status":"passed","title":"身高应该等于 BASE_HEIGHT","duration":0.15819999999985157,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","BASE_BODY_PARTS"],"fullName":"Core: constants BASE_BODY_PARTS 所有部位值应该是正数","status":"passed","title":"所有部位值应该是正数","duration":1.141099999999824,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","BASE_BODY_PARTS"],"fullName":"Core: constants BASE_BODY_PARTS 垂直高度部位应该按从高到低排列","status":"passed","title":"垂直高度部位应该按从高到低排列","duration":0.2617000000000189,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","BASE_BODY_PARTS"],"fullName":"Core: constants BASE_BODY_PARTS 足长应该约为身高的 14%","status":"passed","title":"足长应该约为身高的 14%","duration":0.20089999999981956,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","BASE_BODY_PARTS"],"fullName":"Core: constants BASE_BODY_PARTS 重量单位的部位应该有合理的值","status":"passed","title":"重量单位的部位应该有合理的值","duration":0.16760000000022046,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","REFERENCE_OBJECTS"],"fullName":"Core: constants REFERENCE_OBJECTS 应该包含人类尺度参照物","status":"passed","title":"应该包含人类尺度参照物","duration":0.15869999999995343,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","REFERENCE_OBJECTS"],"fullName":"Core: constants REFERENCE_OBJECTS 应该包含建筑参照物","status":"passed","title":"应该包含建筑参照物","duration":0.3028999999996813,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","REFERENCE_OBJECTS"],"fullName":"Core: constants REFERENCE_OBJECTS 应该包含天体参照物","status":"passed","title":"应该包含天体参照物","duration":0.269800000000032,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","REFERENCE_OBJECTS"],"fullName":"Core: constants REFERENCE_OBJECTS 天体尺寸应该按从小到大排列","status":"passed","title":"天体尺寸应该按从小到大排列","duration":0.23649999999997817,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","REFERENCE_OBJECTS"],"fullName":"Core: constants REFERENCE_OBJECTS 所有参照物值应该是正数","status":"passed","title":"所有参照物值应该是正数","duration":0.7811999999998989,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","INSECT_REFERENCES"],"fullName":"Core: constants INSECT_REFERENCES 应该包含常见昆虫","status":"passed","title":"应该包含常见昆虫","duration":0.17180000000007567,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","INSECT_REFERENCES"],"fullName":"Core: constants INSECT_REFERENCES 昆虫尺寸应该都小于 10 厘米","status":"passed","title":"昆虫尺寸应该都小于 10 厘米","duration":0.2314000000001215,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","INSECT_REFERENCES"],"fullName":"Core: constants INSECT_REFERENCES 蚂蚁应该比蟑螂小","status":"passed","title":"蚂蚁应该比蟑螂小","duration":0.09149999999999636,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","INSECT_REFERENCES"],"fullName":"Core: constants INSECT_REFERENCES 细菌应该是最小的","status":"passed","title":"细菌应该是最小的","duration":0.1532999999999447,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","SIZE_LEVELS"],"fullName":"Core: constants SIZE_LEVELS 应该有足够的级别覆盖各种尺寸","status":"passed","title":"应该有足够的级别覆盖各种尺寸","duration":0.15219999999999345,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","SIZE_LEVELS"],"fullName":"Core: constants SIZE_LEVELS 每个级别应该有名称和描述","status":"passed","title":"每个级别应该有名称和描述","duration":0.7988999999997759,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","SIZE_LEVELS"],"fullName":"Core: constants SIZE_LEVELS 级别应该按倍率从小到大排列","status":"passed","title":"级别应该按倍率从小到大排列","duration":0.3004000000000815,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","SIZE_LEVELS"],"fullName":"Core: constants SIZE_LEVELS 级别应该连续覆盖（无间隙）","status":"passed","title":"级别应该连续覆盖（无间隙）","duration":0.2943000000000211,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","SIZE_LEVELS"],"fullName":"Core: constants SIZE_LEVELS 第一个级别应该从 1 倍开始","status":"passed","title":"第一个级别应该从 1 倍开始","duration":0.11169999999992797,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","SIZE_LEVELS"],"fullName":"Core: constants SIZE_LEVELS 最后一个级别的最大值应该是无穷大","status":"passed","title":"最后一个级别的最大值应该是无穷大","duration":0.08809999999994034,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","TINY_LEVELS"],"fullName":"Core: constants TINY_LEVELS 应该有足够的缩小级别","status":"passed","title":"应该有足够的缩小级别","duration":0.10519999999996799,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","TINY_LEVELS"],"fullName":"Core: constants TINY_LEVELS 每个级别应该有名称、倍率和描述","status":"passed","title":"每个级别应该有名称、倍率和描述","duration":0.4636000000000422,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","TINY_LEVELS"],"fullName":"Core: constants TINY_LEVELS 级别应该按倍率从大到小排列（越来越小）","status":"passed","title":"级别应该按倍率从大到小排列（越来越小）","duration":0.19529999999986103,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: constants","TINY_LEVELS"],"fullName":"Core: constants TINY_LEVELS 应该覆盖从十分之一到纳米级","status":"passed","title":"应该覆盖从十分之一到纳米级","duration":0.17699999999967986,"failureMessages":[],"meta":{}}],"startTime":1770124079152,"endTime":1770124079162.4636,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/core/constants.test.ts"},{"assertionResults":[{"ancestorTitles":["Core: damage","POPULATION_DENSITY"],"fullName":"Core: damage POPULATION_DENSITY 应该包含各种场景","status":"passed","title":"应该包含各种场景","duration":1.814600000000155,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","POPULATION_DENSITY"],"fullName":"Core: damage POPULATION_DENSITY 人口密度应该从荒野到马尼拉递增","status":"passed","title":"人口密度应该从荒野到马尼拉递增","duration":0.3931999999999789,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","POPULATION_DENSITY"],"fullName":"Core: damage POPULATION_DENSITY 应该包含室内场景","status":"passed","title":"应该包含室内场景","duration":0.19580000000041764,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","POPULATION_DENSITY"],"fullName":"Core: damage POPULATION_DENSITY 室内场景人口密度应该更高","status":"passed","title":"室内场景人口密度应该更高","duration":0.22590000000036525,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","POPULATION_DENSITY"],"fullName":"Core: damage POPULATION_DENSITY 巨大娘体内场景应该是 0","status":"passed","title":"巨大娘体内场景应该是 0","duration":0.21769999999969514,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","BUILDING_DENSITY"],"fullName":"Core: damage BUILDING_DENSITY 应该包含各种场景","status":"passed","title":"应该包含各种场景","duration":0.19349999999985812,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","BUILDING_DENSITY"],"fullName":"Core: damage BUILDING_DENSITY 荒野应该没有建筑","status":"passed","title":"荒野应该没有建筑","duration":0.11440000000038708,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","BUILDING_DENSITY"],"fullName":"Core: damage BUILDING_DENSITY 建筑密度应该从乡村到大城市递增","status":"passed","title":"建筑密度应该从乡村到大城市递增","duration":0.1756000000000313,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","BUILDING_DENSITY"],"fullName":"Core: damage BUILDING_DENSITY 室内场景应该没有建筑损毁","status":"passed","title":"室内场景应该没有建筑损毁","duration":0.3532000000000153,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","GEOGRAPHIC_SCALES"],"fullName":"Core: damage GEOGRAPHIC_SCALES 应该包含从街道到地球的各种尺度","status":"passed","title":"应该包含从街道到地球的各种尺度","duration":0.2937000000001717,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","GEOGRAPHIC_SCALES"],"fullName":"Core: damage GEOGRAPHIC_SCALES 每个尺度应该有大小和描述","status":"passed","title":"每个尺度应该有大小和描述","duration":0.6691000000000713,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","GEOGRAPHIC_SCALES"],"fullName":"Core: damage GEOGRAPHIC_SCALES 尺度应该从小到大合理排列","status":"passed","title":"尺度应该从小到大合理排列","duration":0.19070000000010623,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","CELESTIAL_DATA"],"fullName":"Core: damage CELESTIAL_DATA 应该包含地球数据","status":"passed","title":"应该包含地球数据","duration":0.1447000000002845,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","CELESTIAL_DATA"],"fullName":"Core: damage CELESTIAL_DATA 应该包含银河系数据","status":"passed","title":"应该包含银河系数据","duration":0.09589999999980137,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","CELESTIAL_DATA"],"fullName":"Core: damage CELESTIAL_DATA 应该包含可观测宇宙数据","status":"passed","title":"应该包含可观测宇宙数据","duration":0.13410000000021682,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatLargeNumber"],"fullName":"Core: damage formatLargeNumber formatLargeNumber(100) 应该返回 100","status":"passed","title":"formatLargeNumber(100) 应该返回 100","duration":0.27500000000009095,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatLargeNumber"],"fullName":"Core: damage formatLargeNumber formatLargeNumber(1000) 应该返回 1千","status":"passed","title":"formatLargeNumber(1000) 应该返回 1千","duration":0.2195000000001528,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatLargeNumber"],"fullName":"Core: damage formatLargeNumber formatLargeNumber(5000) 应该返回 5千","status":"passed","title":"formatLargeNumber(5000) 应该返回 5千","duration":0.2617000000000189,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatLargeNumber"],"fullName":"Core: damage formatLargeNumber formatLargeNumber(10000) 应该返回 1万","status":"passed","title":"formatLargeNumber(10000) 应该返回 1万","duration":0.11819999999988795,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatLargeNumber"],"fullName":"Core: damage formatLargeNumber formatLargeNumber(50000) 应该返回 5万","status":"passed","title":"formatLargeNumber(50000) 应该返回 5万","duration":0.10429999999996653,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatLargeNumber"],"fullName":"Core: damage formatLargeNumber formatLargeNumber(100000) 应该返回 10万","status":"passed","title":"formatLargeNumber(100000) 应该返回 10万","duration":0.08669999999983702,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatLargeNumber"],"fullName":"Core: damage formatLargeNumber formatLargeNumber(1000000) 应该返回 100万","status":"passed","title":"formatLargeNumber(1000000) 应该返回 100万","duration":0.06629999999995562,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatLargeNumber"],"fullName":"Core: damage formatLargeNumber formatLargeNumber(100000000) 应该返回 1亿","status":"passed","title":"formatLargeNumber(100000000) 应该返回 1亿","duration":0.06510000000025684,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatLargeNumber"],"fullName":"Core: damage formatLargeNumber formatLargeNumber(1000000000) 应该返回 10亿","status":"passed","title":"formatLargeNumber(1000000000) 应该返回 10亿","duration":0.06369999999969878,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatLargeNumber"],"fullName":"Core: damage formatLargeNumber formatLargeNumber(1000000000000) 应该返回 1万亿","status":"passed","title":"formatLargeNumber(1000000000000) 应该返回 1万亿","duration":0.07339999999976499,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatCasualties"],"fullName":"Core: damage formatCasualties 最小等于最大时应该返回单个值","status":"passed","title":"最小等于最大时应该返回单个值","duration":0.18559999999979482,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatCasualties"],"fullName":"Core: damage formatCasualties 小数值应该返回范围","status":"passed","title":"小数值应该返回范围","duration":0.10390000000006694,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatCasualties"],"fullName":"Core: damage formatCasualties 大数值应该使用格式化","status":"passed","title":"大数值应该使用格式化","duration":0.16820000000006985,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","基本计算"],"fullName":"Core: damage calculateDamage 基本计算 应该返回正确的身高和倍率","status":"passed","title":"应该返回正确的身高和倍率","duration":1.2171000000003005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","基本计算"],"fullName":"Core: damage calculateDamage 基本计算 应该使用默认原身高 1.65","status":"passed","title":"应该使用默认原身高 1.65","duration":0.36850000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","基本计算"],"fullName":"Core: damage calculateDamage 基本计算 应该使用默认场景 大城市","status":"passed","title":"应该使用默认场景 大城市","duration":0.3148999999998523,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","足迹计算"],"fullName":"Core: damage calculateDamage 足迹计算 应该计算足迹面积","status":"passed","title":"应该计算足迹面积","duration":0.18220000000019354,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","足迹计算"],"fullName":"Core: damage calculateDamage 足迹计算 应该计算足迹直径","status":"passed","title":"应该计算足迹直径","duration":0.2132000000001426,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","足迹计算"],"fullName":"Core: damage calculateDamage 足迹计算 足迹应该随身高增大","status":"passed","title":"足迹应该随身高增大","duration":0.2512000000001535,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","足迹计算"],"fullName":"Core: damage calculateDamage 足迹计算 足迹面积应该约为 (身高/7)² × 0.4","status":"passed","title":"足迹面积应该约为 (身高/7)² × 0.4","duration":0.40859999999975116,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","单步损害计算"],"fullName":"Core: damage calculateDamage 单步损害计算 应该计算小人伤亡","status":"passed","title":"应该计算小人伤亡","duration":0.39609999999993306,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","单步损害计算"],"fullName":"Core: damage calculateDamage 单步损害计算 最小伤亡应该是最大伤亡的 20%","status":"passed","title":"最小伤亡应该是最大伤亡的 20%","duration":0.20640000000003056,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","单步损害计算"],"fullName":"Core: damage calculateDamage 单步损害计算 应该计算建筑损毁","status":"passed","title":"应该计算建筑损毁","duration":0.2694000000001324,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","单步损害计算"],"fullName":"Core: damage calculateDamage 单步损害计算 应该计算街道损毁","status":"passed","title":"应该计算街道损毁","duration":0.23210000000017317,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","单步损害计算"],"fullName":"Core: damage calculateDamage 单步损害计算 应该计算城区损毁","status":"passed","title":"应该计算城区损毁","duration":0.28849999999965803,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","单步损害计算"],"fullName":"Core: damage calculateDamage 单步损害计算 应该提供伤亡描述","status":"passed","title":"应该提供伤亡描述","duration":0.22950000000037107,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","场景影响"],"fullName":"Core: damage calculateDamage 场景影响 不同场景应该有不同的伤亡","status":"passed","title":"不同场景应该有不同的伤亡","duration":0.40730000000030486,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","场景影响"],"fullName":"Core: damage calculateDamage 场景影响 荒野场景应该基本无伤亡","status":"passed","title":"荒野场景应该基本无伤亡","duration":0.2011000000002241,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","场景影响"],"fullName":"Core: damage calculateDamage 场景影响 荒野场景应该比大城市建筑损毁少","status":"passed","title":"荒野场景应该比大城市建筑损毁少","duration":0.22710000000006403,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","场景影响"],"fullName":"Core: damage calculateDamage 场景影响 应该计算各场景伤亡","status":"passed","title":"应该计算各场景伤亡","duration":0.25979999999981374,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","破坏力等级"],"fullName":"Core: damage calculateDamage 破坏力等级 身高 5 米应该是 微型 破坏力","status":"passed","title":"身高 5 米应该是 微型 破坏力","duration":0.22249999999985448,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","破坏力等级"],"fullName":"Core: damage calculateDamage 破坏力等级 身高 50 米应该是 建筑级 破坏力","status":"passed","title":"身高 50 米应该是 建筑级 破坏力","duration":0.16459999999960928,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","破坏力等级"],"fullName":"Core: damage calculateDamage 破坏力等级 身高 500 米应该是 街区级 破坏力","status":"passed","title":"身高 500 米应该是 街区级 破坏力","duration":0.15670000000000073,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","破坏力等级"],"fullName":"Core: damage calculateDamage 破坏力等级 身高 5000 米应该是 城区级 破坏力","status":"passed","title":"身高 5000 米应该是 城区级 破坏力","duration":0.15590000000020154,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","破坏力等级"],"fullName":"Core: damage calculateDamage 破坏力等级 身高 50000 米应该是 城市级 破坏力","status":"passed","title":"身高 50000 米应该是 城市级 破坏力","duration":0.17859999999973297,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","破坏力等级"],"fullName":"Core: damage calculateDamage 破坏力等级 身高 500000 米应该是 国家级 破坏力","status":"passed","title":"身高 500000 米应该是 国家级 破坏力","duration":0.17039999999997235,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","破坏力等级"],"fullName":"Core: damage calculateDamage 破坏力等级 应该有破坏力描述","status":"passed","title":"应该有破坏力描述","duration":0.20659999999998035,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","宏观破坏"],"fullName":"Core: damage calculateDamage 宏观破坏 小身高不应该有宏观破坏","status":"passed","title":"小身高不应该有宏观破坏","duration":0.25540000000000873,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","宏观破坏"],"fullName":"Core: damage calculateDamage 宏观破坏 城市级身高应该有宏观破坏","status":"passed","title":"城市级身高应该有宏观破坏","duration":0.35730000000012296,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","宏观破坏"],"fullName":"Core: damage calculateDamage 宏观破坏 足够大时应该计算城市毁灭","status":"passed","title":"足够大时应该计算城市毁灭","duration":0.16810000000032232,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","宏观破坏"],"fullName":"Core: damage calculateDamage 宏观破坏 行星尺度应该有行星破坏","status":"passed","title":"行星尺度应该有行星破坏","duration":0.1871000000001004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","宏观破坏"],"fullName":"Core: damage calculateDamage 宏观破坏 恒星尺度应该有恒星破坏","status":"passed","title":"恒星尺度应该有恒星破坏","duration":0.30419999999958236,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","特殊效应"],"fullName":"Core: damage calculateDamage 特殊效应 小身高不应该有特殊效应","status":"passed","title":"小身高不应该有特殊效应","duration":0.94170000000031,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","特殊效应"],"fullName":"Core: damage calculateDamage 特殊效应 100 米以上应该引发地震","status":"passed","title":"100 米以上应该引发地震","duration":0.2517000000002554,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","特殊效应"],"fullName":"Core: damage calculateDamage 特殊效应 1000 米以上应该有更多效应","status":"passed","title":"1000 米以上应该有更多效应","duration":0.27739999999994325,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","特殊效应"],"fullName":"Core: damage calculateDamage 特殊效应 行星尺度应该影响引力","status":"passed","title":"行星尺度应该影响引力","duration":0.3227000000001681,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","calculateDamage","元数据"],"fullName":"Core: damage calculateDamage 元数据 应该包含计算时间戳","status":"passed","title":"应该包含计算时间戳","duration":0.27670000000034634,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","generateDamagePrompt"],"fullName":"Core: damage generateDamagePrompt 应该包含角色名","status":"passed","title":"应该包含角色名","duration":0.502100000000155,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","generateDamagePrompt"],"fullName":"Core: damage generateDamagePrompt 应该包含身高信息","status":"passed","title":"应该包含身高信息","duration":0.27520000000004075,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","generateDamagePrompt"],"fullName":"Core: damage generateDamagePrompt 应该包含破坏力等级","status":"passed","title":"应该包含破坏力等级","duration":0.32189999999991414,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","generateDamagePrompt"],"fullName":"Core: damage generateDamagePrompt 应该包含足迹信息","status":"passed","title":"应该包含足迹信息","duration":0.2676000000001295,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","generateDamagePrompt"],"fullName":"Core: damage generateDamagePrompt 应该包含伤亡信息","status":"passed","title":"应该包含伤亡信息","duration":0.24159999999983484,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","generateDamagePrompt"],"fullName":"Core: damage generateDamagePrompt 有宏观破坏时应该包含相关信息","status":"passed","title":"有宏观破坏时应该包含相关信息","duration":0.24890000000004875,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","generateDamagePrompt"],"fullName":"Core: damage generateDamagePrompt 有特殊效应时应该包含相关信息","status":"passed","title":"有特殊效应时应该包含相关信息","duration":0.3146999999999025,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatDamageCompact"],"fullName":"Core: damage formatDamageCompact 应该返回紧凑格式","status":"passed","title":"应该返回紧凑格式","duration":0.3364000000001397,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatDamageCompact"],"fullName":"Core: damage formatDamageCompact 应该包含关键信息","status":"passed","title":"应该包含关键信息","duration":0.2357999999999265,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatDamageCompact"],"fullName":"Core: damage formatDamageCompact 有宏观破坏时应该包含","status":"passed","title":"有宏观破坏时应该包含","duration":0.25709999999980937,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","formatDamageCompact"],"fullName":"Core: damage formatDamageCompact 有特殊效应时应该包含","status":"passed","title":"有特殊效应时应该包含","duration":0.20820000000003347,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","实际场景测试"],"fullName":"Core: damage 实际场景测试 100 倍巨大娘在大城市","status":"passed","title":"100 倍巨大娘在大城市","duration":0.24810000000024957,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","实际场景测试"],"fullName":"Core: damage 实际场景测试 1000 倍巨大娘踏平街区","status":"passed","title":"1000 倍巨大娘踏平街区","duration":0.23779999999987922,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: damage","实际场景测试"],"fullName":"Core: damage 实际场景测试 地球大小的巨大娘","status":"passed","title":"地球大小的巨大娘","duration":0.32009999999991123,"failureMessages":[],"meta":{}}],"startTime":1770124079212,"endTime":1770124079235.32,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/core/damage.test.ts"},{"assertionResults":[{"ancestorTitles":["Core: formatter","round"],"fullName":"Core: formatter round 应该按默认精度（2位）四舍五入","status":"passed","title":"应该按默认精度（2位）四舍五入","duration":1.8332000000000335,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","round"],"fullName":"Core: formatter round 应该支持指定精度","status":"passed","title":"应该支持指定精度","duration":0.3297000000002299,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","round"],"fullName":"Core: formatter round 应该正确处理负数","status":"passed","title":"应该正确处理负数","duration":0.2764999999999418,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","round"],"fullName":"Core: formatter round 应该正确处理整数","status":"passed","title":"应该正确处理整数","duration":0.1938999999997577,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","round"],"fullName":"Core: formatter round 应该正确处理很小的数","status":"passed","title":"应该正确处理很小的数","duration":0.21700000000009823,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","setPrecision / getPrecision"],"fullName":"Core: formatter setPrecision / getPrecision 应该能设置和获取精度","status":"passed","title":"应该能设置和获取精度","duration":0.2603999999996631,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","setPrecision / getPrecision"],"fullName":"Core: formatter setPrecision / getPrecision 设置精度后应该影响 round 函数","status":"passed","title":"设置精度后应该影响 round 函数","duration":0.171100000000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","常规单位"],"fullName":"Core: formatter formatLength 常规单位 应该正确格式化米","status":"passed","title":"应该正确格式化米","duration":0.4751000000001113,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","常规单位"],"fullName":"Core: formatter formatLength 常规单位 应该正确格式化公里","status":"passed","title":"应该正确格式化公里","duration":0.5380000000000109,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","常规单位"],"fullName":"Core: formatter formatLength 常规单位 应该正确格式化厘米","status":"passed","title":"应该正确格式化厘米","duration":0.3148999999998523,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","常规单位"],"fullName":"Core: formatter formatLength 常规单位 应该正确格式化毫米","status":"passed","title":"应该正确格式化毫米","duration":0.3121000000001004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","常规单位"],"fullName":"Core: formatter formatLength 常规单位 应该正确格式化微米","status":"passed","title":"应该正确格式化微米","duration":0.23660000000018044,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","常规单位"],"fullName":"Core: formatter formatLength 常规单位 应该正确格式化纳米","status":"passed","title":"应该正确格式化纳米","duration":0.14429999999993015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","常规单位"],"fullName":"Core: formatter formatLength 常规单位 应该正确格式化皮米","status":"passed","title":"应该正确格式化皮米","duration":0.13299999999981083,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","天文单位"],"fullName":"Core: formatter formatLength 天文单位 应该正确格式化天文单位 (AU)","status":"passed","title":"应该正确格式化天文单位 (AU)","duration":0.12409999999999854,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","天文单位"],"fullName":"Core: formatter formatLength 天文单位 应该正确格式化光年","status":"passed","title":"应该正确格式化光年","duration":0.2606999999998152,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","天文单位"],"fullName":"Core: formatter formatLength 天文单位 当 useAstronomical=false 时不应使用天文单位","status":"passed","title":"当 useAstronomical=false 时不应使用天文单位","duration":0.13229999999975917,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","边界情况"],"fullName":"Core: formatter formatLength 边界情况 应该处理零","status":"passed","title":"应该处理零","duration":0.11259999999992942,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatLength","边界情况"],"fullName":"Core: formatter formatLength 边界情况 应该处理负数","status":"passed","title":"应该处理负数","duration":0.11760000000003856,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatWeight"],"fullName":"Core: formatter formatWeight 应该正确格式化千克","status":"passed","title":"应该正确格式化千克","duration":0.19130000000041036,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatWeight"],"fullName":"Core: formatter formatWeight 应该正确格式化吨","status":"passed","title":"应该正确格式化吨","duration":0.14990000000034343,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatWeight"],"fullName":"Core: formatter formatWeight 应该正确格式化百万吨","status":"passed","title":"应该正确格式化百万吨","duration":0.11329999999998108,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatWeight"],"fullName":"Core: formatter formatWeight 应该正确格式化十亿吨","status":"passed","title":"应该正确格式化十亿吨","duration":0.10869999999977153,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatWeight"],"fullName":"Core: formatter formatWeight 应该正确格式化万亿吨","status":"passed","title":"应该正确格式化万亿吨","duration":0.10999999999967258,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatVolume"],"fullName":"Core: formatter formatVolume 应该正确格式化毫升","status":"passed","title":"应该正确格式化毫升","duration":0.14640000000008513,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatVolume"],"fullName":"Core: formatter formatVolume 应该正确格式化升","status":"passed","title":"应该正确格式化升","duration":0.13740000000007058,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatVolume"],"fullName":"Core: formatter formatVolume 应该正确格式化立方米","status":"passed","title":"应该正确格式化立方米","duration":0.11400000000003274,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatVolume"],"fullName":"Core: formatter formatVolume 应该正确格式化立方公里","status":"passed","title":"应该正确格式化立方公里","duration":0.10989999999992506,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatVolume"],"fullName":"Core: formatter formatVolume 应该正确格式化立方毫米","status":"passed","title":"应该正确格式化立方毫米","duration":0.10019999999985885,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatArea"],"fullName":"Core: formatter formatArea 应该正确格式化平方毫米","status":"passed","title":"应该正确格式化平方毫米","duration":0.14609999999993306,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatArea"],"fullName":"Core: formatter formatArea 应该正确格式化平方厘米","status":"passed","title":"应该正确格式化平方厘米","duration":0.10869999999977153,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatArea"],"fullName":"Core: formatter formatArea 应该正确格式化平方米","status":"passed","title":"应该正确格式化平方米","duration":0.11900000000014188,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: formatter","formatArea"],"fullName":"Core: formatter formatArea 应该正确格式化平方公里","status":"passed","title":"应该正确格式化平方公里","duration":0.1010999999998603,"failureMessages":[],"meta":{}}],"startTime":1770124079181,"endTime":1770124079190.146,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/core/formatter.test.ts"},{"assertionResults":[{"ancestorTitles":["Core: interactions","INTERACTION_RULES"],"fullName":"Core: interactions INTERACTION_RULES 应该包含手部互动规则","status":"passed","title":"应该包含手部互动规则","duration":2.06899999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","INTERACTION_RULES"],"fullName":"Core: interactions INTERACTION_RULES 应该包含足部互动规则","status":"passed","title":"应该包含足部互动规则","duration":0.2824000000000524,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","INTERACTION_RULES"],"fullName":"Core: interactions INTERACTION_RULES 应该包含口部互动规则","status":"passed","title":"应该包含口部互动规则","duration":0.4191000000000713,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","INTERACTION_RULES"],"fullName":"Core: interactions INTERACTION_RULES 应该包含身体互动规则","status":"passed","title":"应该包含身体互动规则","duration":0.19430000000011205,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","INTERACTION_RULES"],"fullName":"Core: interactions INTERACTION_RULES 应该包含视觉互动规则","status":"passed","title":"应该包含视觉互动规则","duration":0.2771000000002459,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","INTERACTION_RULES"],"fullName":"Core: interactions INTERACTION_RULES 应该包含交流互动规则","status":"passed","title":"应该包含交流互动规则","duration":0.22600000000011278,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","INTERACTION_RULES"],"fullName":"Core: interactions INTERACTION_RULES 每个规则应该有完整的属性","status":"passed","title":"每个规则应该有完整的属性","duration":2.168999999999869,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","INTERACTION_RULES"],"fullName":"Core: interactions INTERACTION_RULES 拥抱需要的比例应该最高","status":"passed","title":"拥抱需要的比例应该最高","duration":0.4313000000001921,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","INTERACTION_RULES"],"fullName":"Core: interactions INTERACTION_RULES 肉眼可见需要的比例应该很低","status":"passed","title":"肉眼可见需要的比例应该很低","duration":0.5390000000002146,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","体型比例计算"],"fullName":"Core: interactions checkInteractionLimits 体型比例计算 应该正确计算比例","status":"passed","title":"应该正确计算比例","duration":0.8135000000002037,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","体型比例计算"],"fullName":"Core: interactions checkInteractionLimits 体型比例计算 应该格式化比例","status":"passed","title":"应该格式化比例","duration":0.5932999999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","体型比例计算"],"fullName":"Core: interactions checkInteractionLimits 体型比例计算 应该格式化小者在大者眼中的尺寸","status":"passed","title":"应该格式化小者在大者眼中的尺寸","duration":0.2319999999999709,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","可能与不可能的互动"],"fullName":"Core: interactions checkInteractionLimits 可能与不可能的互动 体型相近时大多数互动都可能","status":"passed","title":"体型相近时大多数互动都可能","duration":1.383100000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","可能与不可能的互动"],"fullName":"Core: interactions checkInteractionLimits 可能与不可能的互动 1% 比例时拥抱不可能","status":"passed","title":"1% 比例时拥抱不可能","duration":0.3027999999999338,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","可能与不可能的互动"],"fullName":"Core: interactions checkInteractionLimits 可能与不可能的互动 1% 比例时仍可踩在脚下感知","status":"passed","title":"1% 比例时仍可踩在脚下感知","duration":0.29979999999977736,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","可能与不可能的互动"],"fullName":"Core: interactions checkInteractionLimits 可能与不可能的互动 0.01% 比例时大部分互动不可能","status":"passed","title":"0.01% 比例时大部分互动不可能","duration":0.21369999999978972,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","可能与不可能的互动"],"fullName":"Core: interactions checkInteractionLimits 可能与不可能的互动 极小比例时仅肉眼可见可能","status":"passed","title":"极小比例时仅肉眼可见可能","duration":0.17730000000028667,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","不可能互动的详情"],"fullName":"Core: interactions checkInteractionLimits 不可能互动的详情 应该包含动作名称","status":"passed","title":"应该包含动作名称","duration":0.16609999999991487,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","不可能互动的详情"],"fullName":"Core: interactions checkInteractionLimits 不可能互动的详情 应该包含原因","status":"passed","title":"应该包含原因","duration":0.14909999999963475,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","不可能互动的详情"],"fullName":"Core: interactions checkInteractionLimits 不可能互动的详情 应该包含替代方案","status":"passed","title":"应该包含替代方案","duration":0.19299999999975626,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","checkInteractionLimits","替代方案映射"],"fullName":"Core: interactions checkInteractionLimits 替代方案映射 应该为每个不可能的互动提供替代方案","status":"passed","title":"应该为每个不可能的互动提供替代方案","duration":0.4072000000001026,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","generateInteractionPrompt"],"fullName":"Core: interactions generateInteractionPrompt 体型差距不大时应该返回简短描述","status":"passed","title":"体型差距不大时应该返回简短描述","duration":0.3000999999999294,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","generateInteractionPrompt"],"fullName":"Core: interactions generateInteractionPrompt 有不可能互动时应该生成详细提示","status":"passed","title":"有不可能互动时应该生成详细提示","duration":0.2177999999998974,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","generateInteractionPrompt"],"fullName":"Core: interactions generateInteractionPrompt 应该包含体型比例信息","status":"passed","title":"应该包含体型比例信息","duration":0.21000000000003638,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","generateInteractionPrompt"],"fullName":"Core: interactions generateInteractionPrompt 应该包含相对尺寸信息","status":"passed","title":"应该包含相对尺寸信息","duration":0.1954000000000633,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","generateInteractionPrompt"],"fullName":"Core: interactions generateInteractionPrompt 应该列出不合理的互动","status":"passed","title":"应该列出不合理的互动","duration":0.26749999999992724,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","generateInteractionPrompt"],"fullName":"Core: interactions generateInteractionPrompt 应该包含替代方案","status":"passed","title":"应该包含替代方案","duration":0.1716999999998734,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","实际场景测试"],"fullName":"Core: interactions 实际场景测试 100 倍巨大娘 vs 正常人","status":"passed","title":"100 倍巨大娘 vs 正常人","duration":0.6397999999999229,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","实际场景测试"],"fullName":"Core: interactions 实际场景测试 1000 倍巨大娘 vs 正常人","status":"passed","title":"1000 倍巨大娘 vs 正常人","duration":0.36209999999982756,"failureMessages":[],"meta":{}},{"ancestorTitles":["Core: interactions","实际场景测试"],"fullName":"Core: interactions 实际场景测试 10 倍巨大娘 vs 正常人","status":"passed","title":"10 倍巨大娘 vs 正常人","duration":0.8182000000001608,"failureMessages":[],"meta":{}}],"startTime":1770124079214,"endTime":1770124079229.818,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/core/interactions.test.ts"},{"assertionResults":[{"ancestorTitles":["Store: characters","初始状态"],"fullName":"Store: characters 初始状态 characters 应该初始为空","status":"passed","title":"characters 应该初始为空","duration":4.273099999999886,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","初始状态"],"fullName":"Store: characters 初始状态 getCharacterNames 应该返回空数组","status":"passed","title":"getCharacterNames 应该返回空数组","duration":1.4906999999998334,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","初始状态"],"fullName":"Store: characters 初始状态 getAllCharacters 应该返回空数组","status":"passed","title":"getAllCharacters 应该返回空数组","duration":0.693199999999706,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","setCharacter"],"fullName":"Store: characters setCharacter 应该添加新角色","status":"passed","title":"应该添加新角色","duration":0.9189000000001215,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","setCharacter"],"fullName":"Store: characters setCharacter 应该更新已存在的角色","status":"passed","title":"应该更新已存在的角色","duration":0.5385999999998603,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","setCharacter"],"fullName":"Store: characters setCharacter 应该支持添加多个角色","status":"passed","title":"应该支持添加多个角色","duration":1.4056000000000495,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getCharacter"],"fullName":"Store: characters getCharacter 应该返回存在的角色","status":"passed","title":"应该返回存在的角色","duration":0.44610000000011496,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getCharacter"],"fullName":"Store: characters getCharacter 应该返回 undefined 对于不存在的角色","status":"passed","title":"应该返回 undefined 对于不存在的角色","duration":0.32930000000033033,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","removeCharacter"],"fullName":"Store: characters removeCharacter 应该删除存在的角色","status":"passed","title":"应该删除存在的角色","duration":0.6506000000003951,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","removeCharacter"],"fullName":"Store: characters removeCharacter 删除不存在的角色不应该报错","status":"passed","title":"删除不存在的角色不应该报错","duration":0.9159999999997126,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","removeCharacter"],"fullName":"Store: characters removeCharacter 只应该删除指定的角色","status":"passed","title":"只应该删除指定的角色","duration":0.5140999999998712,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","clear"],"fullName":"Store: characters clear 应该清空所有角色","status":"passed","title":"应该清空所有角色","duration":0.487999999999829,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","clear"],"fullName":"Store: characters clear 清空空 store 不应该报错","status":"passed","title":"清空空 store 不应该报错","duration":0.3002000000001317,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getCharacterNames"],"fullName":"Store: characters getCharacterNames 应该返回所有角色名称","status":"passed","title":"应该返回所有角色名称","duration":0.6882000000000517,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getAllCharacters"],"fullName":"Store: characters getAllCharacters 应该返回所有角色数据","status":"passed","title":"应该返回所有角色数据","duration":0.527599999999893,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","updateCharacter"],"fullName":"Store: characters updateCharacter 应该更新角色的部分数据","status":"passed","title":"应该更新角色的部分数据","duration":0.46960000000035507,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","updateCharacter"],"fullName":"Store: characters updateCharacter 更新不存在的角色不应该有任何效果","status":"passed","title":"更新不存在的角色不应该有任何效果","duration":0.2215000000001055,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","addHistory"],"fullName":"Store: characters addHistory 应该添加历史记录","status":"passed","title":"应该添加历史记录","duration":0.5263999999997395,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","addHistory"],"fullName":"Store: characters addHistory 应该追加多条历史记录","status":"passed","title":"应该追加多条历史记录","duration":0.5313999999998487,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","addHistory"],"fullName":"Store: characters addHistory 应该限制历史记录数量","status":"passed","title":"应该限制历史记录数量","duration":1.080199999999877,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","addHistory"],"fullName":"Store: characters addHistory 添加历史到不存在的角色不应该有任何效果","status":"passed","title":"添加历史到不存在的角色不应该有任何效果","duration":0.24589999999989232,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getAllCharacterInfo"],"fullName":"Store: characters getAllCharacterInfo 应该返回所有角色的简要信息","status":"passed","title":"应该返回所有角色的简要信息","duration":0.5363000000002103,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getAllCharacterInfo"],"fullName":"Store: characters getAllCharacterInfo 应该包含 calcData 和 damageData","status":"passed","title":"应该包含 calcData 和 damageData","duration":0.2998999999999796,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getDamageSummary"],"fullName":"Store: characters getDamageSummary 应该返回空数据对于空 store","status":"passed","title":"应该返回空数据对于空 store","duration":0.40950000000020736,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getDamageSummary"],"fullName":"Store: characters getDamageSummary 应该正确统计巨大娘和小人数量","status":"passed","title":"应该正确统计巨大娘和小人数量","duration":0.28290000000015425,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getDamageSummary"],"fullName":"Store: characters getDamageSummary 应该汇总损害数据","status":"passed","title":"应该汇总损害数据","duration":0.3953000000001339,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getDamageSummary"],"fullName":"Store: characters getDamageSummary 应该使用提供的场景名称","status":"passed","title":"应该使用提供的场景名称","duration":0.23190000000022337,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: characters","getDamageSummary"],"fullName":"Store: characters getDamageSummary 应该使用默认场景名称","status":"passed","title":"应该使用默认场景名称","duration":0.27329999999983556,"failureMessages":[],"meta":{}}],"startTime":1770124079160,"endTime":1770124079181.2732,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/stores/characters.test.ts"},{"assertionResults":[{"ancestorTitles":["Store: prompts","初始状态"],"fullName":"Store: prompts 初始状态 应该加载默认模板","status":"passed","title":"应该加载默认模板","duration":5.62940000000026,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","初始状态"],"fullName":"Store: prompts 初始状态 应该包含所有内置模板","status":"passed","title":"应该包含所有内置模板","duration":1.0958999999998014,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","初始状态"],"fullName":"Store: prompts 初始状态 templates 数组应该存在（不保证排序）","status":"passed","title":"templates 数组应该存在（不保证排序）","duration":0.7328999999999724,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","enabledTemplates"],"fullName":"Store: prompts enabledTemplates 应该只返回启用的模板","status":"passed","title":"应该只返回启用的模板","duration":0.866399999999885,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","enabledTemplates"],"fullName":"Store: prompts enabledTemplates 应该按 order 排序","status":"failed","title":"应该按 order 排序","duration":4.951600000000326,"failureMessages":["AssertionError: expected 9990 to be greater than or equal to 9995\n    at K:\\AiChat\\巨大娘计算器\\tests\\stores\\prompts.test.ts:65:34\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Store: prompts","toggleTemplate"],"fullName":"Store: prompts toggleTemplate 应该切换模板启用状态","status":"passed","title":"应该切换模板启用状态","duration":2.1026999999999134,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","toggleTemplate"],"fullName":"Store: prompts toggleTemplate 切换不存在的模板不应该报错","status":"passed","title":"切换不存在的模板不应该报错","duration":1.042699999999968,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","updateTemplate"],"fullName":"Store: prompts updateTemplate 应该更新模板的部分属性","status":"passed","title":"应该更新模板的部分属性","duration":0.8843999999999141,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","updateTemplate"],"fullName":"Store: prompts updateTemplate 更新不存在的模板不应该有任何效果","status":"passed","title":"更新不存在的模板不应该有任何效果","duration":0.827900000000227,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","addTemplate"],"fullName":"Store: prompts addTemplate 应该添加自定义模板","status":"passed","title":"应该添加自定义模板","duration":0.9815000000003238,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","addTemplate"],"fullName":"Store: prompts addTemplate 自定义模板应该有自动生成的 ID","status":"passed","title":"自定义模板应该有自动生成的 ID","duration":0.6651999999999134,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","addTemplate"],"fullName":"Store: prompts addTemplate 自定义模板的 order 应该在最后","status":"failed","title":"自定义模板的 order 应该在最后","duration":1.0447999999996682,"failureMessages":["AssertionError: expected 989 to be greater than 9995\n    at K:\\AiChat\\巨大娘计算器\\tests\\stores\\prompts.test.ts:163:28\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Store: prompts","removeTemplate"],"fullName":"Store: prompts removeTemplate 应该删除自定义模板","status":"passed","title":"应该删除自定义模板","duration":0.8011999999998807,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","removeTemplate"],"fullName":"Store: prompts removeTemplate 不应该删除内置模板","status":"passed","title":"不应该删除内置模板","duration":0.39960000000019136,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","removeTemplate"],"fullName":"Store: prompts removeTemplate 删除不存在的模板不应该报错","status":"passed","title":"删除不存在的模板不应该报错","duration":0.4549000000001797,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","resetToDefaults"],"fullName":"Store: prompts resetToDefaults 应该重置所有模板为默认值","status":"failed","title":"应该重置所有模板为默认值","duration":3.2301000000002205,"failureMessages":["AssertionError: expected 8 to be 7 // Object.is equality\n    at K:\\AiChat\\巨大娘计算器\\tests\\stores\\prompts.test.ts:220:38\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Store: prompts","moveTemplate"],"fullName":"Store: prompts moveTemplate 应该向上移动模板","status":"failed","title":"应该向上移动模板","duration":2.393999999999778,"failureMessages":["AssertionError: expected 9965 to be 999 // Object.is equality\n    at K:\\AiChat\\巨大娘计算器\\tests\\stores\\prompts.test.ts:238:36\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Store: prompts","moveTemplate"],"fullName":"Store: prompts moveTemplate 应该向下移动模板","status":"failed","title":"应该向下移动模板","duration":0.8026999999997315,"failureMessages":["AssertionError: expected 999 to be 9960 // Object.is equality\n    at K:\\AiChat\\巨大娘计算器\\tests\\stores\\prompts.test.ts:251:35\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Store: prompts","moveTemplate"],"fullName":"Store: prompts moveTemplate 第一个模板向上移动不应该有效果","status":"failed","title":"第一个模板向上移动不应该有效果","duration":1.9518000000002758,"failureMessages":["AssertionError: expected 9960 to be 999 // Object.is equality\n    at K:\\AiChat\\巨大娘计算器\\tests\\stores\\prompts.test.ts:263:28\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Store: prompts","moveTemplate"],"fullName":"Store: prompts moveTemplate 最后一个模板向下移动不应该有效果","status":"failed","title":"最后一个模板向下移动不应该有效果","duration":2.3942000000001826,"failureMessages":["AssertionError: expected 9990 to be 9995 // Object.is equality\n    at K:\\AiChat\\巨大娘计算器\\tests\\stores\\prompts.test.ts:275:27\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Store: prompts","moveTemplate"],"fullName":"Store: prompts moveTemplate 移动不存在的模板不应该报错","status":"passed","title":"移动不存在的模板不应该报错","duration":0.5430999999998676,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","getTemplate"],"fullName":"Store: prompts getTemplate 应该返回存在的模板","status":"passed","title":"应该返回存在的模板","duration":0.3944000000001324,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: prompts","getTemplate"],"fullName":"Store: prompts getTemplate 应该返回 undefined 对于不存在的模板","status":"passed","title":"应该返回 undefined 对于不存在的模板","duration":0.2984999999998763,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_TEMPLATES"],"fullName":"常量: DEFAULT_TEMPLATES 应该有正确数量的模板","status":"passed","title":"应该有正确数量的模板","duration":0.49929999999994834,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_TEMPLATES"],"fullName":"常量: DEFAULT_TEMPLATES 所有内置模板应该标记为 builtin","status":"passed","title":"所有内置模板应该标记为 builtin","duration":0.20559999999977663,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_TEMPLATES"],"fullName":"常量: DEFAULT_TEMPLATES 每个模板应该有必要的字段","status":"passed","title":"每个模板应该有必要的字段","duration":0.9593999999997322,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_TEMPLATES"],"fullName":"常量: DEFAULT_TEMPLATES 模板 ID 应该唯一","status":"passed","title":"模板 ID 应该唯一","duration":0.1475999999997839,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_TEMPLATES"],"fullName":"常量: DEFAULT_TEMPLATES 损害计算模板应该依赖 damageCalculation 功能","status":"passed","title":"损害计算模板应该依赖 damageCalculation 功能","duration":0.11340000000018335,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_TEMPLATES"],"fullName":"常量: DEFAULT_TEMPLATES 写作指南模板默认应该禁用","status":"passed","title":"写作指南模板默认应该禁用","duration":0.10890000000017608,"failureMessages":[],"meta":{}}],"startTime":1770124078994,"endTime":1770124079031.1477,"status":"failed","message":"","name":"K:/AiChat/巨大娘计算器/tests/stores/prompts.test.ts"},{"assertionResults":[{"ancestorTitles":["Store: settings","初始状态"],"fullName":"Store: settings 初始状态 应该有正确的默认值","status":"failed","title":"应该有正确的默认值","duration":21.050700000000234,"failureMessages":["AssertionError: expected 9999 to be 1 // Object.is equality\n    at K:\\AiChat\\巨大娘计算器\\tests\\stores\\settings.test.ts:28:42\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Store: settings","初始状态"],"fullName":"Store: settings 初始状态 应该有正确的默认损害计算设置","status":"passed","title":"应该有正确的默认损害计算设置","duration":1.1147000000000844,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","初始状态"],"fullName":"Store: settings 初始状态 应该有正确的默认提示词设置","status":"passed","title":"应该有正确的默认提示词设置","duration":0.8744000000001506,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","初始状态"],"fullName":"Store: settings 初始状态 应该有正确的默认世界观设置","status":"passed","title":"应该有正确的默认世界观设置","duration":0.634900000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","toggle"],"fullName":"Store: settings toggle 应该切换启用状态","status":"passed","title":"应该切换启用状态","duration":1.459400000000187,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","设置修改"],"fullName":"Store: settings 设置修改 应该能修改单个设置项","status":"passed","title":"应该能修改单个设置项","duration":0.6816000000003442,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","设置修改"],"fullName":"Store: settings 设置修改 应该能修改多个设置项","status":"passed","title":"应该能修改多个设置项","duration":0.788600000000315,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","调试日志"],"fullName":"Store: settings 调试日志 debugLogs 初始应该为空","status":"passed","title":"debugLogs 初始应该为空","duration":0.9656999999997424,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","调试日志"],"fullName":"Store: settings 调试日志 debugLog 在调试模式关闭时不应该添加日志","status":"passed","title":"debugLog 在调试模式关闭时不应该添加日志","duration":1.1172999999998865,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","调试日志"],"fullName":"Store: settings 调试日志 debugLog 在调试模式开启时应该添加日志","status":"passed","title":"debugLog 在调试模式开启时应该添加日志","duration":17.734200000000328,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","调试日志"],"fullName":"Store: settings 调试日志 debugWarn 在调试模式关闭时不应该添加日志到列表","status":"passed","title":"debugWarn 在调试模式关闭时不应该添加日志到列表","duration":0.9616000000000895,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","调试日志"],"fullName":"Store: settings 调试日志 debugWarn 在调试模式开启时应该添加警告日志","status":"passed","title":"debugWarn 在调试模式开启时应该添加警告日志","duration":0.8398000000001957,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","调试日志"],"fullName":"Store: settings 调试日志 debugError 在调试模式关闭时不应该添加日志到列表","status":"passed","title":"debugError 在调试模式关闭时不应该添加日志到列表","duration":0.5432999999998174,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","调试日志"],"fullName":"Store: settings 调试日志 debugError 在调试模式开启时应该添加错误日志","status":"passed","title":"debugError 在调试模式开启时应该添加错误日志","duration":0.6977999999999156,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","调试日志"],"fullName":"Store: settings 调试日志 应该限制日志数量为 50 条","status":"passed","title":"应该限制日志数量为 50 条","duration":5.0003999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","调试日志"],"fullName":"Store: settings 调试日志 clearDebugLogs 应该清空所有日志","status":"passed","title":"clearDebugLogs 应该清空所有日志","duration":1.2373999999999796,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","调试日志"],"fullName":"Store: settings 调试日志 应该正确格式化对象参数","status":"passed","title":"应该正确格式化对象参数","duration":1.4080999999996493,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","控制台日志"],"fullName":"Store: settings 控制台日志 log 在调试模式关闭时不应该输出","status":"passed","title":"log 在调试模式关闭时不应该输出","duration":1.1632999999997082,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","控制台日志"],"fullName":"Store: settings 控制台日志 log 在调试模式开启时应该输出","status":"passed","title":"log 在调试模式开启时应该输出","duration":1.2148999999999432,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","控制台日志"],"fullName":"Store: settings 控制台日志 warn 应该始终输出","status":"passed","title":"warn 应该始终输出","duration":0.6527000000000953,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: settings","控制台日志"],"fullName":"Store: settings 控制台日志 error 应该始终输出","status":"passed","title":"error 应该始终输出","duration":0.554700000000139,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DAMAGE_SCENARIOS"],"fullName":"常量: DAMAGE_SCENARIOS 应该包含所有场景类型","status":"passed","title":"应该包含所有场景类型","duration":0.673200000000179,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DAMAGE_SCENARIOS"],"fullName":"常量: DAMAGE_SCENARIOS 应该有 15 个场景","status":"passed","title":"应该有 15 个场景","duration":0.15299999999979264,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: SCENARIO_DESCRIPTIONS"],"fullName":"常量: SCENARIO_DESCRIPTIONS 每个场景应该有对应的描述","status":"passed","title":"每个场景应该有对应的描述","duration":0.6066000000000713,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: SCENARIO_DESCRIPTIONS"],"fullName":"常量: SCENARIO_DESCRIPTIONS 描述应该包含有意义的内容","status":"passed","title":"描述应该包含有意义的内容","duration":0.17270000000007713,"failureMessages":[],"meta":{}}],"startTime":1770124079081,"endTime":1770124079144.6067,"status":"failed","message":"","name":"K:/AiChat/巨大娘计算器/tests/stores/settings.test.ts"},{"assertionResults":[{"ancestorTitles":["Store: worldviews","初始状态"],"fullName":"Store: worldviews 初始状态 应该加载默认世界观","status":"passed","title":"应该加载默认世界观","duration":6.813599999999951,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","初始状态"],"fullName":"Store: worldviews 初始状态 应该包含所有内置世界观","status":"passed","title":"应该包含所有内置世界观","duration":1.4533999999998741,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","初始状态"],"fullName":"Store: worldviews 初始状态 默认当前世界观应该是现实物理","status":"passed","title":"默认当前世界观应该是现实物理","duration":1.0366999999996551,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","currentWorldview"],"fullName":"Store: worldviews currentWorldview 应该返回当前选中的世界观","status":"passed","title":"应该返回当前选中的世界观","duration":0.8573999999998705,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","currentWorldview"],"fullName":"Store: worldviews currentWorldview 切换后应该返回新的世界观","status":"passed","title":"切换后应该返回新的世界观","duration":1.798200000000179,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","currentWorldview"],"fullName":"Store: worldviews currentWorldview 当前世界观不存在时应该返回第一个世界观","status":"passed","title":"当前世界观不存在时应该返回第一个世界观","duration":1.1575000000002547,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","setCurrentWorldview"],"fullName":"Store: worldviews setCurrentWorldview 应该切换到存在的世界观","status":"passed","title":"应该切换到存在的世界观","duration":0.9643000000000939,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","setCurrentWorldview"],"fullName":"Store: worldviews setCurrentWorldview 切换到不存在的世界观不应该有效果","status":"passed","title":"切换到不存在的世界观不应该有效果","duration":0.6325000000001637,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","addWorldview"],"fullName":"Store: worldviews addWorldview 应该添加自定义世界观","status":"passed","title":"应该添加自定义世界观","duration":1.7173999999999978,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","addWorldview"],"fullName":"Store: worldviews addWorldview 自定义世界观应该有自动生成的 ID","status":"passed","title":"自定义世界观应该有自动生成的 ID","duration":1.5196000000000822,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","updateWorldview"],"fullName":"Store: worldviews updateWorldview 应该更新世界观的部分属性","status":"passed","title":"应该更新世界观的部分属性","duration":2.373699999999644,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","updateWorldview"],"fullName":"Store: worldviews updateWorldview 更新不存在的世界观不应该有任何效果","status":"passed","title":"更新不存在的世界观不应该有任何效果","duration":0.5470000000000255,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","removeWorldview"],"fullName":"Store: worldviews removeWorldview 应该删除自定义世界观","status":"passed","title":"应该删除自定义世界观","duration":1.047099999999773,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","removeWorldview"],"fullName":"Store: worldviews removeWorldview 不应该删除内置世界观","status":"passed","title":"不应该删除内置世界观","duration":0.5313999999998487,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","removeWorldview"],"fullName":"Store: worldviews removeWorldview 删除当前选中的世界观应该重置为默认","status":"passed","title":"删除当前选中的世界观应该重置为默认","duration":0.946100000000115,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","removeWorldview"],"fullName":"Store: worldviews removeWorldview 删除不存在的世界观不应该报错","status":"passed","title":"删除不存在的世界观不应该报错","duration":1.2674000000001797,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","resetToDefaults"],"fullName":"Store: worldviews resetToDefaults 应该重置所有世界观为默认值","status":"passed","title":"应该重置所有世界观为默认值","duration":0.9917999999997846,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","getWorldview"],"fullName":"Store: worldviews getWorldview 应该返回存在的世界观","status":"passed","title":"应该返回存在的世界观","duration":0.6560000000004038,"failureMessages":[],"meta":{}},{"ancestorTitles":["Store: worldviews","getWorldview"],"fullName":"Store: worldviews getWorldview 应该返回 undefined 对于不存在的世界观","status":"passed","title":"应该返回 undefined 对于不存在的世界观","duration":0.4679999999998472,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_WORLDVIEWS"],"fullName":"常量: DEFAULT_WORLDVIEWS 应该有 8 个内置世界观","status":"passed","title":"应该有 8 个内置世界观","duration":0.8242999999997664,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_WORLDVIEWS"],"fullName":"常量: DEFAULT_WORLDVIEWS 所有内置世界观应该标记为 builtin","status":"passed","title":"所有内置世界观应该标记为 builtin","duration":0.25209999999970023,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_WORLDVIEWS"],"fullName":"常量: DEFAULT_WORLDVIEWS 每个世界观应该有必要的字段","status":"passed","title":"每个世界观应该有必要的字段","duration":1.1083999999996195,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_WORLDVIEWS"],"fullName":"常量: DEFAULT_WORLDVIEWS 世界观 ID 应该唯一","status":"passed","title":"世界观 ID 应该唯一","duration":0.12849999999980355,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_WORLDVIEWS"],"fullName":"常量: DEFAULT_WORLDVIEWS 现实物理世界观不应该允许部位独立缩放","status":"passed","title":"现实物理世界观不应该允许部位独立缩放","duration":0.2977000000000771,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_WORLDVIEWS"],"fullName":"常量: DEFAULT_WORLDVIEWS 玄幻修仙世界观应该有典型部位覆盖","status":"passed","title":"玄幻修仙世界观应该有典型部位覆盖","duration":0.5239999999998872,"failureMessages":[],"meta":{}},{"ancestorTitles":["常量: DEFAULT_WORLDVIEWS"],"fullName":"常量: DEFAULT_WORLDVIEWS 纯粹幻想世界观应该有最宽松的设定","status":"passed","title":"纯粹幻想世界观应该有最宽松的设定","duration":0.6650999999997111,"failureMessages":[],"meta":{}}],"startTime":1770124079081,"endTime":1770124079112.665,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/stores/worldviews.test.ts"},{"assertionResults":[{"ancestorTitles":["Service: character-calculator","getCharacterType","当倍率 >= 1.5 时"],"fullName":"Service: character-calculator getCharacterType 当倍率 >= 1.5 时 应该返回 giant 类型","status":"passed","title":"应该返回 giant 类型","duration":3.114100000000235,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","getCharacterType","当倍率 <= 0.8 时"],"fullName":"Service: character-calculator getCharacterType 当倍率 <= 0.8 时 应该返回 tiny 类型","status":"passed","title":"应该返回 tiny 类型","duration":0.3552999999997155,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","getCharacterType","当倍率在 0.8 到 1.5 之间时"],"fullName":"Service: character-calculator getCharacterType 当倍率在 0.8 到 1.5 之间时 应该返回 normal 类型","status":"passed","title":"应该返回 normal 类型","duration":0.4009000000000924,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","getCharacterType","边界值测试"],"fullName":"Service: character-calculator getCharacterType 边界值测试 倍率恰好为 1.5 应该是 giant","status":"passed","title":"倍率恰好为 1.5 应该是 giant","duration":0.1914000000001579,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","getCharacterType","边界值测试"],"fullName":"Service: character-calculator getCharacterType 边界值测试 倍率恰好为 0.8 应该是 tiny","status":"passed","title":"倍率恰好为 0.8 应该是 tiny","duration":0.24700000000029831,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateCharacterData","当计算巨大娘数据时（scale >= 1）"],"fullName":"Service: character-calculator calculateCharacterData 当计算巨大娘数据时（scale >= 1） 应该返回 GiantessData 类型的数据","status":"passed","title":"应该返回 GiantessData 类型的数据","duration":1.615099999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateCharacterData","当计算巨大娘数据时（scale >= 1）"],"fullName":"Service: character-calculator calculateCharacterData 当计算巨大娘数据时（scale >= 1） 应该正确处理自定义部位","status":"passed","title":"应该正确处理自定义部位","duration":0.4934000000002925,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateCharacterData","当计算小人数据时（scale < 1）"],"fullName":"Service: character-calculator calculateCharacterData 当计算小人数据时（scale < 1） 应该返回 TinyData 类型的数据","status":"passed","title":"应该返回 TinyData 类型的数据","duration":3.6996000000003733,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateCharacterData","边界情况"],"fullName":"Service: character-calculator calculateCharacterData 边界情况 当 scale 恰好为 1 时应该返回 GiantessData","status":"passed","title":"当 scale 恰好为 1 时应该返回 GiantessData","duration":2.0942000000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFromMvuData","当提供有效数据时"],"fullName":"Service: character-calculator calculateFromMvuData 当提供有效数据时 应该正确解析「当前身高」字段","status":"passed","title":"应该正确解析「当前身高」字段","duration":1.611199999999826,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFromMvuData","当提供有效数据时"],"fullName":"Service: character-calculator calculateFromMvuData 当提供有效数据时 应该正确解析「身高」字段作为备选","status":"passed","title":"应该正确解析「身高」字段作为备选","duration":0.5020999999997002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFromMvuData","当提供有效数据时"],"fullName":"Service: character-calculator calculateFromMvuData 当提供有效数据时 应该使用默认原身高 1.65 当未提供时","status":"passed","title":"应该使用默认原身高 1.65 当未提供时","duration":0.5812000000000808,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFromMvuData","当提供有效数据时"],"fullName":"Service: character-calculator calculateFromMvuData 当提供有效数据时 应该正确处理自定义部位","status":"passed","title":"应该正确处理自定义部位","duration":0.4632000000001426,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFromMvuData","当提供无效数据时"],"fullName":"Service: character-calculator calculateFromMvuData 当提供无效数据时 当没有身高数据时应该返回 null","status":"passed","title":"当没有身高数据时应该返回 null","duration":0.2033000000001266,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFromMvuData","当提供无效数据时"],"fullName":"Service: character-calculator calculateFromMvuData 当提供无效数据时 当身高为 0 时应该返回 null","status":"passed","title":"当身高为 0 时应该返回 null","duration":0.1843999999996413,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFromMvuData","当提供无效数据时"],"fullName":"Service: character-calculator calculateFromMvuData 当提供无效数据时 当身高为负数时应该返回 null","status":"passed","title":"当身高为负数时应该返回 null","duration":0.15999999999985448,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFromMvuData","角色类型判定"],"fullName":"Service: character-calculator calculateFromMvuData 角色类型判定 巨大娘应该返回 type=giant","status":"passed","title":"巨大娘应该返回 type=giant","duration":0.3605000000002292,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFromMvuData","角色类型判定"],"fullName":"Service: character-calculator calculateFromMvuData 角色类型判定 小人应该返回 type=tiny","status":"passed","title":"小人应该返回 type=tiny","duration":0.3431000000000495,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFromMvuData","角色类型判定"],"fullName":"Service: character-calculator calculateFromMvuData 角色类型判定 普通人应该返回 type=normal","status":"passed","title":"普通人应该返回 type=normal","duration":0.4481999999998152,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFullCharacterData","对于普通人"],"fullName":"Service: character-calculator calculateFullCharacterData 对于普通人 应该返回 calcData 和 damageData 都为 null","status":"passed","title":"应该返回 calcData 和 damageData 都为 null","duration":0.32760000000007494,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFullCharacterData","对于巨大娘"],"fullName":"Service: character-calculator calculateFullCharacterData 对于巨大娘 应该返回正确的计算数据","status":"passed","title":"应该返回正确的计算数据","duration":0.4416999999998552,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFullCharacterData","对于巨大娘"],"fullName":"Service: character-calculator calculateFullCharacterData 对于巨大娘 当启用损害计算时应该包含 damageData","status":"passed","title":"当启用损害计算时应该包含 damageData","duration":1.3382999999998901,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFullCharacterData","对于巨大娘"],"fullName":"Service: character-calculator calculateFullCharacterData 对于巨大娘 当禁用损害计算时 damageData 应该为 null","status":"passed","title":"当禁用损害计算时 damageData 应该为 null","duration":0.38610000000016953,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFullCharacterData","对于巨大娘"],"fullName":"Service: character-calculator calculateFullCharacterData 对于巨大娘 应该使用指定的损害场景","status":"passed","title":"应该使用指定的损害场景","duration":0.7681999999999789,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFullCharacterData","对于小人"],"fullName":"Service: character-calculator calculateFullCharacterData 对于小人 应该返回正确的计算数据","status":"passed","title":"应该返回正确的计算数据","duration":0.36180000000013024,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","calculateFullCharacterData","对于小人"],"fullName":"Service: character-calculator calculateFullCharacterData 对于小人 即使启用损害计算，damageData 也应该为 null","status":"passed","title":"即使启用损害计算，damageData 也应该为 null","duration":0.24490000000014334,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","needsRecalculation","当需要重新计算时"],"fullName":"Service: character-calculator needsRecalculation 当需要重新计算时 当没有现有计算数据时应该返回 true","status":"passed","title":"当没有现有计算数据时应该返回 true","duration":2.080399999999827,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","needsRecalculation","当需要重新计算时"],"fullName":"Service: character-calculator needsRecalculation 当需要重新计算时 当身高变化时应该返回 true","status":"passed","title":"当身高变化时应该返回 true","duration":0.8515000000002146,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","needsRecalculation","当需要重新计算时"],"fullName":"Service: character-calculator needsRecalculation 当需要重新计算时 当自定义部位变化时应该返回 true","status":"passed","title":"当自定义部位变化时应该返回 true","duration":0.5351000000000568,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","needsRecalculation","当不需要重新计算时"],"fullName":"Service: character-calculator needsRecalculation 当不需要重新计算时 当没有身高数据时应该返回 false","status":"passed","title":"当没有身高数据时应该返回 false","duration":0.6354999999998654,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","needsRecalculation","当不需要重新计算时"],"fullName":"Service: character-calculator needsRecalculation 当不需要重新计算时 当身高和自定义部位都没有变化时应该返回 false","status":"passed","title":"当身高和自定义部位都没有变化时应该返回 false","duration":1.3070999999999913,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","recalculateDamage","对于巨大娘"],"fullName":"Service: character-calculator recalculateDamage 对于巨大娘 应该返回损害数据","status":"passed","title":"应该返回损害数据","duration":0.7826000000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","recalculateDamage","对于巨大娘"],"fullName":"Service: character-calculator recalculateDamage 对于巨大娘 应该使用指定的场景","status":"passed","title":"应该使用指定的场景","duration":0.5796000000000276,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","recalculateDamage","对于小人"],"fullName":"Service: character-calculator recalculateDamage 对于小人 应该返回 null","status":"passed","title":"应该返回 null","duration":0.2529999999997017,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: character-calculator","recalculateDamage","边界情况"],"fullName":"Service: character-calculator recalculateDamage 边界情况 当 scale 恰好为 1 时应该返回损害数据","status":"passed","title":"当 scale 恰好为 1 时应该返回损害数据","duration":0.2901999999999134,"failureMessages":[],"meta":{}}],"startTime":1770124079305,"endTime":1770124079335.2903,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/services/calculator/character-calculator.test.ts"},{"assertionResults":[{"ancestorTitles":["Service: interaction-calculator","calculatePairInteraction","当两个角色身高差异较大时"],"fullName":"Service: interaction-calculator calculatePairInteraction 当两个角色身高差异较大时 应该正确识别大者和小者","status":"passed","title":"应该正确识别大者和小者","duration":3.137000000000171,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairInteraction","当两个角色身高差异较大时"],"fullName":"Service: interaction-calculator calculatePairInteraction 当两个角色身高差异较大时 应该返回互动限制列表","status":"passed","title":"应该返回互动限制列表","duration":0.5387000000000626,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairInteraction","当两个角色身高差异较大时"],"fullName":"Service: interaction-calculator calculatePairInteraction 当两个角色身高差异较大时 应该包含生成的提示词","status":"passed","title":"应该包含生成的提示词","duration":0.3522000000002663,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairInteraction","当传入顺序相反时"],"fullName":"Service: interaction-calculator calculatePairInteraction 当传入顺序相反时 应该仍然正确识别大者和小者","status":"passed","title":"应该仍然正确识别大者和小者","duration":0.4054999999998472,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairInteraction","当两个角色身高相同时"],"fullName":"Service: interaction-calculator calculatePairInteraction 当两个角色身高相同时 第一个参数应该成为大者","status":"passed","title":"第一个参数应该成为大者","duration":0.3409999999998945,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairInteraction","当两个角色身高相同时"],"fullName":"Service: interaction-calculator calculatePairInteraction 当两个角色身高相同时 身高相同时应该没有互动限制","status":"passed","title":"身高相同时应该没有互动限制","duration":0.22749999999996362,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairInteraction","当身高差距较小时"],"fullName":"Service: interaction-calculator calculatePairInteraction 当身高差距较小时 应该有较少的互动限制","status":"passed","title":"应该有较少的互动限制","duration":0.2644000000000233,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairwiseInteractions","当只有一个角色时"],"fullName":"Service: interaction-calculator calculatePairwiseInteractions 当只有一个角色时 应该返回空对象","status":"passed","title":"应该返回空对象","duration":3.1890999999995984,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairwiseInteractions","当有两个角色时"],"fullName":"Service: interaction-calculator calculatePairwiseInteractions 当有两个角色时 应该返回一组互动","status":"passed","title":"应该返回一组互动","duration":1.714600000000246,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairwiseInteractions","当有三个角色时"],"fullName":"Service: interaction-calculator calculatePairwiseInteractions 当有三个角色时 应该返回三组互动（C(3,2)=3）","status":"passed","title":"应该返回三组互动（C(3,2)=3）","duration":1.9242999999996755,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairwiseInteractions","当有三个角色时"],"fullName":"Service: interaction-calculator calculatePairwiseInteractions 当有三个角色时 互动键名应该遵循「大者_小者」格式","status":"passed","title":"互动键名应该遵循「大者_小者」格式","duration":0.9661000000000968,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairwiseInteractions","当有多个角色时"],"fullName":"Service: interaction-calculator calculatePairwiseInteractions 当有多个角色时 应该返回正确数量的互动组合（C(n,2)）","status":"passed","title":"应该返回正确数量的互动组合（C(n,2)）","duration":0.6302999999998065,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","calculatePairwiseInteractions","当角色列表为空时"],"fullName":"Service: interaction-calculator calculatePairwiseInteractions 当角色列表为空时 应该返回空对象","status":"passed","title":"应该返回空对象","duration":0.3498999999997068,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","getInteractionsWithLimits","当有互动限制时"],"fullName":"Service: interaction-calculator getInteractionsWithLimits 当有互动限制时 应该只返回有限制的互动","status":"passed","title":"应该只返回有限制的互动","duration":0.5493999999998778,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","getInteractionsWithLimits","当没有互动限制时"],"fullName":"Service: interaction-calculator getInteractionsWithLimits 当没有互动限制时 应该返回空数组","status":"passed","title":"应该返回空数组","duration":0.32429999999976644,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","getInteractionsWithLimits","过滤逻辑"],"fullName":"Service: interaction-calculator getInteractionsWithLimits 过滤逻辑 应该过滤掉 impossible 为空数组的互动","status":"passed","title":"应该过滤掉 impossible 为空数组的互动","duration":0.5572999999999411,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","formatInteractionsForPrompt","当有互动限制时"],"fullName":"Service: interaction-calculator formatInteractionsForPrompt 当有互动限制时 应该返回格式化的数组","status":"passed","title":"应该返回格式化的数组","duration":0.559400000000096,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","formatInteractionsForPrompt","当有互动限制时"],"fullName":"Service: interaction-calculator formatInteractionsForPrompt 当有互动限制时 impossible 项应该包含 action、reason、alternative","status":"passed","title":"impossible 项应该包含 action、reason、alternative","duration":0.31060000000024957,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","formatInteractionsForPrompt","当没有互动限制时"],"fullName":"Service: interaction-calculator formatInteractionsForPrompt 当没有互动限制时 应该返回空数组","status":"passed","title":"应该返回空数组","duration":0.2885999999998603,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","checkInteraction","基本功能"],"fullName":"Service: interaction-calculator checkInteraction 基本功能 应该返回 InteractionLimits 对象","status":"passed","title":"应该返回 InteractionLimits 对象","duration":0.357499999999618,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","checkInteraction","基本功能"],"fullName":"Service: interaction-calculator checkInteraction 基本功能 应该计算正确的比例","status":"passed","title":"应该计算正确的比例","duration":0.28369999999995343,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","checkInteraction","极端比例"],"fullName":"Service: interaction-calculator checkInteraction 极端比例 应该处理极小的比例（极大差距）","status":"passed","title":"应该处理极小的比例（极大差距）","duration":0.2795000000000982,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","checkInteraction","极端比例"],"fullName":"Service: interaction-calculator checkInteraction 极端比例 应该处理比例为 1 的情况","status":"passed","title":"应该处理比例为 1 的情况","duration":0.2051000000001295,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: interaction-calculator","checkInteraction","互动限制内容"],"fullName":"Service: interaction-calculator checkInteraction 互动限制内容 大比例差异时应该有多项互动限制","status":"passed","title":"大比例差异时应该有多项互动限制","duration":1.4636000000000422,"failureMessages":[],"meta":{}}],"startTime":1770124079306,"endTime":1770124079327.4636,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/services/calculator/interaction-calculator.test.ts"},{"assertionResults":[{"ancestorTitles":["Service: extensions/manager","register"],"fullName":"Service: extensions/manager register 应该成功注册新扩展","status":"passed","title":"应该成功注册新扩展","duration":3.031499999999596,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","register"],"fullName":"Service: extensions/manager register 注册时应该调用 onInit 钩子","status":"passed","title":"注册时应该调用 onInit 钩子","duration":0.7068999999996777,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","register"],"fullName":"Service: extensions/manager register 重复注册相同 ID 的扩展应该被忽略","status":"passed","title":"重复注册相同 ID 的扩展应该被忽略","duration":0.6203000000000429,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","register"],"fullName":"Service: extensions/manager register onInit 抛出错误不应该影响注册","status":"passed","title":"onInit 抛出错误不应该影响注册","duration":7.885299999999916,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","get / getAll"],"fullName":"Service: extensions/manager get / getAll get 应该返回指定 ID 的扩展","status":"passed","title":"get 应该返回指定 ID 的扩展","duration":0.5869999999999891,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","get / getAll"],"fullName":"Service: extensions/manager get / getAll get 不存在的扩展应该返回 undefined","status":"passed","title":"get 不存在的扩展应该返回 undefined","duration":0.40599999999994907,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","get / getAll"],"fullName":"Service: extensions/manager get / getAll getAll 应该返回所有注册的扩展","status":"passed","title":"getAll 应该返回所有注册的扩展","duration":1.020499999999629,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","enable / disable"],"fullName":"Service: extensions/manager enable / disable enable 应该启用扩展","status":"passed","title":"enable 应该启用扩展","duration":0.7343999999998232,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","enable / disable"],"fullName":"Service: extensions/manager enable / disable enable 应该调用 onEnable 钩子","status":"passed","title":"enable 应该调用 onEnable 钩子","duration":1.2584000000001652,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","enable / disable"],"fullName":"Service: extensions/manager enable / disable disable 应该禁用扩展","status":"passed","title":"disable 应该禁用扩展","duration":0.8328000000001339,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","enable / disable"],"fullName":"Service: extensions/manager enable / disable disable 应该调用 onDisable 钩子","status":"passed","title":"disable 应该调用 onDisable 钩子","duration":0.5862000000001899,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","enable / disable"],"fullName":"Service: extensions/manager enable / disable 重复启用已启用的扩展不应该重复调用钩子","status":"passed","title":"重复启用已启用的扩展不应该重复调用钩子","duration":0.463799999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","enable / disable"],"fullName":"Service: extensions/manager enable / disable 禁用未启用的扩展不应该调用钩子","status":"passed","title":"禁用未启用的扩展不应该调用钩子","duration":0.7897000000002663,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","enable / disable"],"fullName":"Service: extensions/manager enable / disable 启用不存在的扩展不应该抛出错误","status":"passed","title":"启用不存在的扩展不应该抛出错误","duration":0.5038999999997031,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","enable / disable"],"fullName":"Service: extensions/manager enable / disable onEnable 抛出错误应该回滚启用状态","status":"passed","title":"onEnable 抛出错误应该回滚启用状态","duration":1.5385000000001128,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","依赖管理"],"fullName":"Service: extensions/manager 依赖管理 启用有依赖的扩展时，依赖必须先启用","status":"passed","title":"启用有依赖的扩展时，依赖必须先启用","duration":0.47599999999965803,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","依赖管理"],"fullName":"Service: extensions/manager 依赖管理 依赖已启用时可以启用依赖方","status":"passed","title":"依赖已启用时可以启用依赖方","duration":0.4786000000003696,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","依赖管理"],"fullName":"Service: extensions/manager 依赖管理 禁用被依赖的扩展应该被阻止","status":"passed","title":"禁用被依赖的扩展应该被阻止","duration":0.5769000000000233,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","toggle"],"fullName":"Service: extensions/manager toggle toggle 应该切换扩展状态","status":"passed","title":"toggle 应该切换扩展状态","duration":0.6854999999995925,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","getEnabled"],"fullName":"Service: extensions/manager getEnabled 应该只返回已启用的扩展","status":"passed","title":"应该只返回已启用的扩展","duration":0.5637000000001535,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","triggerCharacterUpdate"],"fullName":"Service: extensions/manager triggerCharacterUpdate 应该调用所有已启用扩展的 onCharacterUpdate","status":"passed","title":"应该调用所有已启用扩展的 onCharacterUpdate","duration":2.8451999999997497,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","triggerCharacterUpdate"],"fullName":"Service: extensions/manager triggerCharacterUpdate 不应该调用禁用扩展的钩子","status":"passed","title":"不应该调用禁用扩展的钩子","duration":0.46319999999968786,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","triggerCharacterUpdate"],"fullName":"Service: extensions/manager triggerCharacterUpdate 钩子抛出错误不应该影响其他钩子","status":"passed","title":"钩子抛出错误不应该影响其他钩子","duration":2.079200000000128,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","triggerBeforePromptInject"],"fullName":"Service: extensions/manager triggerBeforePromptInject 应该链式调用所有钩子并传递修改后的上下文","status":"passed","title":"应该链式调用所有钩子并传递修改后的上下文","duration":1.647200000000339,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","triggerAfterPromptInject"],"fullName":"Service: extensions/manager triggerAfterPromptInject 应该调用所有已启用扩展的钩子","status":"passed","title":"应该调用所有已启用扩展的钩子","duration":0.5978000000000065,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectPromptTemplates"],"fullName":"Service: extensions/manager collectPromptTemplates 应该收集所有已启用扩展的提示词模板","status":"passed","title":"应该收集所有已启用扩展的提示词模板","duration":0.7815000000000509,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectPromptTemplates"],"fullName":"Service: extensions/manager collectPromptTemplates 不应该收集禁用扩展的模板","status":"passed","title":"不应该收集禁用扩展的模板","duration":0.3225000000002183,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectSettingsComponents"],"fullName":"Service: extensions/manager collectSettingsComponents 应该收集所有已启用扩展的设置组件","status":"passed","title":"应该收集所有已启用扩展的设置组件","duration":0.3670999999999367,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectSettingsComponents"],"fullName":"Service: extensions/manager collectSettingsComponents 不应该收集禁用扩展的设置组件","status":"passed","title":"不应该收集禁用扩展的设置组件","duration":0.3026999999997315,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectSettingsComponents"],"fullName":"Service: extensions/manager collectSettingsComponents 钩子抛出错误不应该影响其他扩展","status":"passed","title":"钩子抛出错误不应该影响其他扩展","duration":0.8312999999998283,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectCharacterCardExtras"],"fullName":"Service: extensions/manager collectCharacterCardExtras 应该收集所有已启用扩展的角色卡片额外内容","status":"passed","title":"应该收集所有已启用扩展的角色卡片额外内容","duration":0.5200999999997293,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectCharacterCardExtras"],"fullName":"Service: extensions/manager collectCharacterCardExtras 不应该收集禁用扩展的内容","status":"passed","title":"不应该收集禁用扩展的内容","duration":0.43990000000030705,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectCharacterCardExtras"],"fullName":"Service: extensions/manager collectCharacterCardExtras 钩子抛出错误不应该影响其他扩展","status":"passed","title":"钩子抛出错误不应该影响其他扩展","duration":0.82549999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectDebugPanelExtras"],"fullName":"Service: extensions/manager collectDebugPanelExtras 应该收集所有已启用扩展的调试面板内容","status":"passed","title":"应该收集所有已启用扩展的调试面板内容","duration":0.668999999999869,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectDebugPanelExtras"],"fullName":"Service: extensions/manager collectDebugPanelExtras 不应该收集禁用扩展的内容","status":"passed","title":"不应该收集禁用扩展的内容","duration":0.3704999999999927,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","collectDebugPanelExtras"],"fullName":"Service: extensions/manager collectDebugPanelExtras 钩子抛出错误不应该影响其他扩展","status":"passed","title":"钩子抛出错误不应该影响其他扩展","duration":0.655699999999797,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","getEnabledIds / restoreEnabledIds"],"fullName":"Service: extensions/manager getEnabledIds / restoreEnabledIds getEnabledIds 应该返回所有已启用扩展的 ID","status":"passed","title":"getEnabledIds 应该返回所有已启用扩展的 ID","duration":0.9292000000000371,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","getEnabledIds / restoreEnabledIds"],"fullName":"Service: extensions/manager getEnabledIds / restoreEnabledIds restoreEnabledIds 应该恢复启用状态","status":"passed","title":"restoreEnabledIds 应该恢复启用状态","duration":0.4252000000001317,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","getEnabledIds / restoreEnabledIds"],"fullName":"Service: extensions/manager getEnabledIds / restoreEnabledIds restoreEnabledIds 应该忽略不存在的扩展","status":"passed","title":"restoreEnabledIds 应该忽略不存在的扩展","duration":0.469300000000203,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","initDefaults"],"fullName":"Service: extensions/manager initDefaults 应该启用 defaultEnabled 为 true 的扩展","status":"passed","title":"应该启用 defaultEnabled 为 true 的扩展","duration":0.4438000000000102,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","getExtensionInfo"],"fullName":"Service: extensions/manager getExtensionInfo 应该返回扩展的完整信息","status":"passed","title":"应该返回扩展的完整信息","duration":0.5574000000001433,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","getExtensionInfo"],"fullName":"Service: extensions/manager getExtensionInfo 当有其他扩展依赖时 canDisable 应该为 false","status":"passed","title":"当有其他扩展依赖时 canDisable 应该为 false","duration":0.34879999999975553,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","getExtensionInfo"],"fullName":"Service: extensions/manager getExtensionInfo 不存在的扩展应该返回 null","status":"passed","title":"不存在的扩展应该返回 null","duration":0.31199999999989814,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: extensions/manager","getAllExtensionInfo"],"fullName":"Service: extensions/manager getAllExtensionInfo 应该返回所有扩展的信息","status":"passed","title":"应该返回所有扩展的信息","duration":1.8353000000001884,"failureMessages":[],"meta":{}}],"startTime":1770124079211,"endTime":1770124079255.8352,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/services/extensions/manager.test.ts"},{"assertionResults":[{"ancestorTitles":["Service: mvu/handler","数据结构兼容性","新格式数据 (v3.1.0+)"],"fullName":"Service: mvu/handler 数据结构兼容性 新格式数据 (v3.1.0+) 角色数据应该在 角色 键下","status":"passed","title":"角色数据应该在 角色 键下","duration":2.319300000000112,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","数据结构兼容性","新格式数据 (v3.1.0+)"],"fullName":"Service: mvu/handler 数据结构兼容性 新格式数据 (v3.1.0+) 场景数据应该在 _场景 键下","status":"passed","title":"场景数据应该在 _场景 键下","duration":0.5098999999995613,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","数据结构兼容性","旧格式数据 (v3.0.x 及之前)"],"fullName":"Service: mvu/handler 数据结构兼容性 旧格式数据 (v3.0.x 及之前) 角色数据直接在顶层","status":"passed","title":"角色数据直接在顶层","duration":0.46090000000003783,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","变量路径"],"fullName":"Service: mvu/handler 变量路径 新格式路径应该包含 角色 键","status":"passed","title":"新格式路径应该包含 角色 键","duration":0.355199999999968,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","变量路径"],"fullName":"Service: mvu/handler 变量路径 旧格式路径不包含 角色 键","status":"passed","title":"旧格式路径不包含 角色 键","duration":0.3791999999998552,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","角色数据提取逻辑"],"fullName":"Service: mvu/handler 角色数据提取逻辑 应该从新格式中正确提取角色","status":"passed","title":"应该从新格式中正确提取角色","duration":1.5909999999998945,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","角色数据提取逻辑"],"fullName":"Service: mvu/handler 角色数据提取逻辑 应该从旧格式中正确提取角色","status":"passed","title":"应该从旧格式中正确提取角色","duration":0.5612999999998465,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","角色数据提取逻辑"],"fullName":"Service: mvu/handler 角色数据提取逻辑 应该过滤掉以 _ 开头的键","status":"passed","title":"应该过滤掉以 _ 开头的键","duration":0.6214999999997417,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","角色数据提取逻辑"],"fullName":"Service: mvu/handler 角色数据提取逻辑 空数据应该返回空对象","status":"passed","title":"空数据应该返回空对象","duration":0.8631000000000313,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","角色数据提取逻辑"],"fullName":"Service: mvu/handler 角色数据提取逻辑 只有系统键的数据应该返回空对象","status":"passed","title":"只有系统键的数据应该返回空对象","duration":0.5226000000002387,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","数据迁移逻辑"],"fullName":"Service: mvu/handler 数据迁移逻辑 应该将旧格式数据迁移到新格式","status":"passed","title":"应该将旧格式数据迁移到新格式","duration":0.5761999999999716,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","数据迁移逻辑"],"fullName":"Service: mvu/handler 数据迁移逻辑 应该合并旧格式和新格式的角色","status":"passed","title":"应该合并旧格式和新格式的角色","duration":0.3512000000000626,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","数据迁移逻辑"],"fullName":"Service: mvu/handler 数据迁移逻辑 对于已经是新格式的数据应该不做任何修改","status":"passed","title":"对于已经是新格式的数据应该不做任何修改","duration":0.20879999999988286,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","数据迁移逻辑"],"fullName":"Service: mvu/handler 数据迁移逻辑 应该忽略非角色数据的对象","status":"passed","title":"应该忽略非角色数据的对象","duration":0.24090000000023792,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","设置影响"],"fullName":"Service: mvu/handler 设置影响 当脚本禁用时应该跳过处理","status":"passed","title":"当脚本禁用时应该跳过处理","duration":4.928600000000188,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","设置影响"],"fullName":"Service: mvu/handler 设置影响 应该使用配置的变量前缀","status":"passed","title":"应该使用配置的变量前缀","duration":0.6073999999998705,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","角色类型判定"],"fullName":"Service: mvu/handler 角色类型判定 倍率 >= 1.5 应该是巨大娘","status":"passed","title":"倍率 >= 1.5 应该是巨大娘","duration":0.19750000000021828,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","角色类型判定"],"fullName":"Service: mvu/handler 角色类型判定 倍率 <= 0.8 应该是小人","status":"passed","title":"倍率 <= 0.8 应该是小人","duration":0.16940000000022337,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","角色类型判定"],"fullName":"Service: mvu/handler 角色类型判定 倍率在 0.8-1.5 之间应该是普通人","status":"passed","title":"倍率在 0.8-1.5 之间应该是普通人","duration":0.20869999999968059,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","边界情况"],"fullName":"Service: mvu/handler 边界情况 应该处理缺少原身高的情况（使用默认值 1.65）","status":"passed","title":"应该处理缺少原身高的情况（使用默认值 1.65）","duration":0.14419999999972788,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","边界情况"],"fullName":"Service: mvu/handler 边界情况 应该支持「身高」字段作为「当前身高」的别名","status":"passed","title":"应该支持「身高」字段作为「当前身高」的别名","duration":0.134900000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","边界情况"],"fullName":"Service: mvu/handler 边界情况 应该支持「原始身高」字段作为「原身高」的别名","status":"passed","title":"应该支持「原始身高」字段作为「原身高」的别名","duration":0.12490000000025248,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: mvu/handler","边界情况"],"fullName":"Service: mvu/handler 边界情况 应该处理空的角色对象","status":"passed","title":"应该处理空的角色对象","duration":0.17610000000013315,"failureMessages":[],"meta":{}}],"startTime":1770124079132,"endTime":1770124079150.176,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/services/mvu/handler.test.ts"},{"assertionResults":[],"startTime":1770124075747,"endTime":1770124075747,"status":"failed","message":"Failed to resolve import \"@/services/mvu/history\" from \"tests/services/mvu/history.test.ts\". Does the file exist?","name":"K:/AiChat/巨大娘计算器/tests/services/mvu/history.test.ts"},{"assertionResults":[{"ancestorTitles":["Service: prompt/builder","interpolate","基本变量替换"],"fullName":"Service: prompt/builder interpolate 基本变量替换 应该替换单个英文变量","status":"passed","title":"应该替换单个英文变量","duration":2.5237999999999374,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","interpolate","基本变量替换"],"fullName":"Service: prompt/builder interpolate 基本变量替换 应该替换多个变量","status":"passed","title":"应该替换多个变量","duration":0.29359999999996944,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","interpolate","基本变量替换"],"fullName":"Service: prompt/builder interpolate 基本变量替换 应该处理数字值","status":"passed","title":"应该处理数字值","duration":0.30709999999999127,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","interpolate","基本变量替换"],"fullName":"Service: prompt/builder interpolate 基本变量替换 应该支持下划线变量名","status":"passed","title":"应该支持下划线变量名","duration":0.3283999999998741,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","interpolate","未匹配变量处理"],"fullName":"Service: prompt/builder interpolate 未匹配变量处理 应该保留未匹配的英文占位符","status":"passed","title":"应该保留未匹配的英文占位符","duration":0.3819000000003143,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","interpolate","未匹配变量处理"],"fullName":"Service: prompt/builder interpolate 未匹配变量处理 中文变量名不会被正则匹配（保留原样）","status":"passed","title":"中文变量名不会被正则匹配（保留原样）","duration":0.35379999999986467,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","interpolate","未匹配变量处理"],"fullName":"Service: prompt/builder interpolate 未匹配变量处理 空上下文应该保留所有占位符","status":"passed","title":"空上下文应该保留所有占位符","duration":0.2557999999999083,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","interpolate","边界情况"],"fullName":"Service: prompt/builder interpolate 边界情况 应该处理空字符串模板","status":"passed","title":"应该处理空字符串模板","duration":0.2481999999999971,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","interpolate","边界情况"],"fullName":"Service: prompt/builder interpolate 边界情况 应该处理没有占位符的模板","status":"passed","title":"应该处理没有占位符的模板","duration":0.7626000000000204,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","interpolate","边界情况"],"fullName":"Service: prompt/builder interpolate 边界情况 应该处理 undefined 值","status":"passed","title":"应该处理 undefined 值","duration":2.4472999999998137,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","formatBodyData","分类格式化"],"fullName":"Service: prompt/builder formatBodyData 分类格式化 应该按分类组织身体数据","status":"passed","title":"应该按分类组织身体数据","duration":2.858099999999922,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","formatBodyData","分类格式化"],"fullName":"Service: prompt/builder formatBodyData 分类格式化 应该格式化长度值","status":"passed","title":"应该格式化长度值","duration":0.8000999999999294,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","formatBodyData","空数据处理"],"fullName":"Service: prompt/builder formatBodyData 空数据处理 应该处理空对象","status":"passed","title":"应该处理空对象","duration":0.5826000000001841,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","formatBodyData","空数据处理"],"fullName":"Service: prompt/builder formatBodyData 空数据处理 应该只显示有数据的分类","status":"passed","title":"应该只显示有数据的分类","duration":0.6966999999999643,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","formatRelativeReferences"],"fullName":"Service: prompt/builder formatRelativeReferences 应该格式化参照物列表","status":"passed","title":"应该格式化参照物列表","duration":0.3652999999999338,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","formatRelativeReferences"],"fullName":"Service: prompt/builder formatRelativeReferences 应该每个参照物占一行","status":"passed","title":"应该每个参照物占一行","duration":0.1912000000002081,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","formatRelativeReferences"],"fullName":"Service: prompt/builder formatRelativeReferences 应该处理空对象","status":"passed","title":"应该处理空对象","duration":0.15099999999983993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","formatInteractionLimits"],"fullName":"Service: prompt/builder formatInteractionLimits 应该格式化互动限制","status":"passed","title":"应该格式化互动限制","duration":0.3651999999997315,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","formatInteractionLimits"],"fullName":"Service: prompt/builder formatInteractionLimits 应该跳过没有限制的互动","status":"passed","title":"应该跳过没有限制的互动","duration":0.16760000000022046,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","formatInteractionLimits"],"fullName":"Service: prompt/builder formatInteractionLimits 应该处理多对互动","status":"passed","title":"应该处理多对互动","duration":0.20460000000002765,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateWorldviewPrompt"],"fullName":"Service: prompt/builder generateWorldviewPrompt 应该生成完整的世界观提示词","status":"passed","title":"应该生成完整的世界观提示词","duration":0.32700000000022555,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateWorldviewPrompt"],"fullName":"Service: prompt/builder generateWorldviewPrompt 应该包含限制与代价","status":"passed","title":"应该包含限制与代价","duration":0.18850000000020373,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateWorldviewPrompt"],"fullName":"Service: prompt/builder generateWorldviewPrompt 应该包含特殊规则","status":"passed","title":"应该包含特殊规则","duration":0.16440000000011423,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateWorldviewPrompt"],"fullName":"Service: prompt/builder generateWorldviewPrompt 应该包含写作建议","status":"passed","title":"应该包含写作建议","duration":0.17899999999963256,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateWorldviewPrompt"],"fullName":"Service: prompt/builder generateWorldviewPrompt 当限制为「无」时不应该显示限制部分","status":"passed","title":"当限制为「无」时不应该显示限制部分","duration":0.1659999999997126,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateWorldviewPrompt"],"fullName":"Service: prompt/builder generateWorldviewPrompt 当限制为空时不应该显示限制部分","status":"passed","title":"当限制为空时不应该显示限制部分","duration":0.20479999999997744,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","buildCharacterContext","巨大娘上下文"],"fullName":"Service: prompt/builder buildCharacterContext 巨大娘上下文 应该构建完整的角色上下文","status":"passed","title":"应该构建完整的角色上下文","duration":2.0543000000002394,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","buildCharacterContext","巨大娘上下文"],"fullName":"Service: prompt/builder buildCharacterContext 巨大娘上下文 当有自定义部位时应该包含自定义部位信息","status":"passed","title":"当有自定义部位时应该包含自定义部位信息","duration":0.5426000000002205,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","buildCharacterContext","巨大娘上下文"],"fullName":"Service: prompt/builder buildCharacterContext 巨大娘上下文 当有世界观时应该包含世界观提示词","status":"passed","title":"当有世界观时应该包含世界观提示词","duration":0.5855000000001382,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","buildCharacterContext","小人上下文"],"fullName":"Service: prompt/builder buildCharacterContext 小人上下文 应该构建小人角色上下文","status":"passed","title":"应该构建小人角色上下文","duration":0.6770000000001346,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","buildCharacterContext","损害数据"],"fullName":"Service: prompt/builder buildCharacterContext 损害数据 当启用损害计算时应该包含损害数据","status":"passed","title":"当启用损害计算时应该包含损害数据","duration":1.497200000000248,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","buildCharacterContext","损害数据"],"fullName":"Service: prompt/builder buildCharacterContext 损害数据 当禁用损害计算时损害数据应该为空","status":"passed","title":"当禁用损害计算时损害数据应该为空","duration":0.7351999999996224,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateAllDamagePrompt","空数据处理"],"fullName":"Service: prompt/builder generateAllDamagePrompt 空数据处理 当没有角色数据时应该返回空字符串","status":"passed","title":"当没有角色数据时应该返回空字符串","duration":0.3816999999999098,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateAllDamagePrompt","单角色"],"fullName":"Service: prompt/builder generateAllDamagePrompt 单角色 应该生成单个角色的损害提示词","status":"passed","title":"应该生成单个角色的损害提示词","duration":0.3724000000001979,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateAllDamagePrompt","多角色"],"fullName":"Service: prompt/builder generateAllDamagePrompt 多角色 应该生成多个角色的损害提示词","status":"passed","title":"应该生成多个角色的损害提示词","duration":0.38859999999976935,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateAllDamagePrompt","多角色"],"fullName":"Service: prompt/builder generateAllDamagePrompt 多角色 当启用汇总时应该包含总计信息","status":"passed","title":"当启用汇总时应该包含总计信息","duration":0.3832999999999629,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateAllDamagePrompt","多角色"],"fullName":"Service: prompt/builder generateAllDamagePrompt 多角色 当禁用汇总时不应该包含总计信息","status":"passed","title":"当禁用汇总时不应该包含总计信息","duration":0.5109999999999673,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateAllDamagePrompt","显示选项"],"fullName":"Service: prompt/builder generateAllDamagePrompt 显示选项 当禁用按角色显示时应该只显示汇总","status":"passed","title":"当禁用按角色显示时应该只显示汇总","duration":0.39170000000012806,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: prompt/builder","generateAllDamagePrompt","显示选项"],"fullName":"Service: prompt/builder generateAllDamagePrompt 显示选项 紧凑模式应该生成更短的输出","status":"passed","title":"紧凑模式应该生成更短的输出","duration":0.4305999999996857,"failureMessages":[],"meta":{}}],"startTime":1770124079306,"endTime":1770124079332.4307,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/services/prompt/builder.test.ts"},{"assertionResults":[{"ancestorTitles":["Service: variables/event-handler","initVariableEventListeners"],"fullName":"Service: variables/event-handler initVariableEventListeners 应该注册所有事件监听器","status":"passed","title":"应该注册所有事件监听器","duration":8.321400000000267,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","initVariableEventListeners"],"fullName":"Service: variables/event-handler initVariableEventListeners 应该监听 MESSAGE_SWIPED 事件","status":"passed","title":"应该监听 MESSAGE_SWIPED 事件","duration":2.9064000000003034,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","initVariableEventListeners"],"fullName":"Service: variables/event-handler initVariableEventListeners 应该监听 MESSAGE_EDITED 事件","status":"passed","title":"应该监听 MESSAGE_EDITED 事件","duration":1.2735999999999876,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","initVariableEventListeners"],"fullName":"Service: variables/event-handler initVariableEventListeners 应该监听 GENERATION_ENDED 事件","status":"passed","title":"应该监听 GENERATION_ENDED 事件","duration":0.981300000000374,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","initVariableEventListeners"],"fullName":"Service: variables/event-handler initVariableEventListeners 应该监听 CHAT_CHANGED 事件","status":"passed","title":"应该监听 CHAT_CHANGED 事件","duration":1.234899999999925,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","initVariableEventListeners","配置选项"],"fullName":"Service: variables/event-handler initVariableEventListeners 配置选项 应该支持禁用初始同步","status":"passed","title":"应该支持禁用初始同步","duration":0.8407999999999447,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","initVariableEventListeners","配置选项"],"fullName":"Service: variables/event-handler initVariableEventListeners 配置选项 应该支持自定义防抖延迟","status":"passed","title":"应该支持自定义防抖延迟","duration":0.7256999999999607,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","initVariableEventListeners","重复初始化"],"fullName":"Service: variables/event-handler initVariableEventListeners 重复初始化 重复初始化应该先清理旧监听器","status":"passed","title":"重复初始化应该先清理旧监听器","duration":1.071100000000115,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","cleanupEventListeners"],"fullName":"Service: variables/event-handler cleanupEventListeners 应该清理所有监听器","status":"passed","title":"应该清理所有监听器","duration":1.2314000000001215,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","cleanupEventListeners"],"fullName":"Service: variables/event-handler cleanupEventListeners 重复清理不应该报错","status":"passed","title":"重复清理不应该报错","duration":0.5052999999998065,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","getServiceStatus"],"fullName":"Service: variables/event-handler getServiceStatus 初始状态应该是未初始化","status":"passed","title":"初始状态应该是未初始化","duration":0.4871000000002823,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","getServiceStatus"],"fullName":"Service: variables/event-handler getServiceStatus 初始化后应该更新状态","status":"passed","title":"初始化后应该更新状态","duration":0.6087999999999738,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","getServiceStatus"],"fullName":"Service: variables/event-handler getServiceStatus 应该返回状态的副本","status":"passed","title":"应该返回状态的副本","duration":0.9981000000002496,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","manualSync"],"fullName":"Service: variables/event-handler manualSync 应该手动触发同步","status":"failed","title":"应该手动触发同步","duration":27.87559999999985,"failureMessages":["ReferenceError: injectPrompts is not defined\n    at injectPromptContent (K:\\AiChat\\巨大娘计算器\\src\\services\\prompt\\injector.ts:102:20)\n    at buildAndInjectPrompt (K:\\AiChat\\巨大娘计算器\\src\\services\\prompt\\injector.ts:299:20)\n    at reinjectPromptsIfNeeded (K:\\AiChat\\巨大娘计算器\\src\\services\\variables\\sync.ts:307:19)\n    at fullDataProcess (K:\\AiChat\\巨大娘计算器\\src\\services\\variables\\sync.ts:340:5)\n    at manualSync (K:\\AiChat\\巨大娘计算器\\src\\services\\variables\\event-handler.ts:392:3)\n    at K:\\AiChat\\巨大娘计算器\\tests\\services\\variables\\event-handler.test.ts:178:7\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)"],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","manualSync"],"fullName":"Service: variables/event-handler manualSync 应该更新最后同步时间","status":"failed","title":"应该更新最后同步时间","duration":2.6161000000001877,"failureMessages":["ReferenceError: uninjectPrompts is not defined\n    at uninjectPrompt (K:\\AiChat\\巨大娘计算器\\src\\services\\prompt\\injector.ts:58:5)\n    at injectPromptContent (K:\\AiChat\\巨大娘计算器\\src\\services\\prompt\\injector.ts:75:3)\n    at buildAndInjectPrompt (K:\\AiChat\\巨大娘计算器\\src\\services\\prompt\\injector.ts:299:20)\n    at reinjectPromptsIfNeeded (K:\\AiChat\\巨大娘计算器\\src\\services\\variables\\sync.ts:307:19)\n    at fullDataProcess (K:\\AiChat\\巨大娘计算器\\src\\services\\variables\\sync.ts:340:5)\n    at manualSync (K:\\AiChat\\巨大娘计算器\\src\\services\\variables\\event-handler.ts:392:3)\n    at K:\\AiChat\\巨大娘计算器\\tests\\services\\variables\\event-handler.test.ts:187:7\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20"],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","isInitialized"],"fullName":"Service: variables/event-handler isInitialized 初始应该返回 false","status":"passed","title":"初始应该返回 false","duration":0.48689999999987776,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","isInitialized"],"fullName":"Service: variables/event-handler isInitialized 初始化后应该返回 true","status":"passed","title":"初始化后应该返回 true","duration":0.6682999999998174,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","isInitialized"],"fullName":"Service: variables/event-handler isInitialized 清理后应该返回 false","status":"passed","title":"清理后应该返回 false","duration":0.662199999999757,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","事件处理","MESSAGE_SWIPED"],"fullName":"Service: variables/event-handler 事件处理 MESSAGE_SWIPED 当脚本禁用时应该跳过处理","status":"failed","title":"当脚本禁用时应该跳过处理","duration":2.853900000000067,"failureMessages":["AssertionError: expected undefined to be null\n    at K:\\AiChat\\巨大娘计算器\\tests\\services\\variables\\event-handler.test.ts:239:52\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","事件处理","MESSAGE_SWIPED"],"fullName":"Service: variables/event-handler 事件处理 MESSAGE_SWIPED 当脚本启用时应该同步数据","status":"failed","title":"当脚本启用时应该同步数据","duration":3.053200000000288,"failureMessages":["ReferenceError: uninjectPrompts is not defined\n    at uninjectPrompt (K:\\AiChat\\巨大娘计算器\\src\\services\\prompt\\injector.ts:58:5)\n    at injectPromptContent (K:\\AiChat\\巨大娘计算器\\src\\services\\prompt\\injector.ts:75:3)\n    at buildAndInjectPrompt (K:\\AiChat\\巨大娘计算器\\src\\services\\prompt\\injector.ts:299:20)\n    at reinjectPromptsIfNeeded (K:\\AiChat\\巨大娘计算器\\src\\services\\variables\\sync.ts:307:19)\n    at handleMessageSwiped (K:\\AiChat\\巨大娘计算器\\src\\services\\variables\\event-handler.ts:84:5)\n    at K:\\AiChat\\巨大娘计算器\\tests\\setup.ts:233:84\n    at Array.forEach (<anonymous>)\n    at Object.__emit (K:\\AiChat\\巨大娘计算器\\tests\\setup.ts:233:36)\n    at K:\\AiChat\\巨大娘计算器\\tests\\services\\variables\\event-handler.test.ts:256:19\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11"],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","事件处理","MESSAGE_DELETED"],"fullName":"Service: variables/event-handler 事件处理 MESSAGE_DELETED 当脚本禁用时应该跳过处理","status":"passed","title":"当脚本禁用时应该跳过处理","duration":0.8995999999997366,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/event-handler","事件处理","CHAT_CHANGED"],"fullName":"Service: variables/event-handler 事件处理 CHAT_CHANGED 应该清空角色数据","status":"failed","title":"应该清空角色数据","duration":1.4381000000003041,"failureMessages":["AssertionError: expected undefined to be null\n    at K:\\AiChat\\巨大娘计算器\\tests\\services\\variables\\event-handler.test.ts:288:53\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}}],"startTime":1770124079844,"endTime":1770124079906.438,"status":"failed","message":"","name":"K:/AiChat/巨大娘计算器/tests/services/variables/event-handler.test.ts"},{"assertionResults":[{"ancestorTitles":["Service: variables/parser","parseValue","数字解析"],"fullName":"Service: variables/parser parseValue 数字解析 应该解析整数","status":"passed","title":"应该解析整数","duration":2.40099999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","数字解析"],"fullName":"Service: variables/parser parseValue 数字解析 应该解析小数","status":"passed","title":"应该解析小数","duration":0.6354999999998654,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","数字解析"],"fullName":"Service: variables/parser parseValue 数字解析 应该处理带空格的数字","status":"passed","title":"应该处理带空格的数字","duration":0.2496000000001004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","字符串解析"],"fullName":"Service: variables/parser parseValue 字符串解析 应该解析单引号字符串","status":"passed","title":"应该解析单引号字符串","duration":0.3512999999998101,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","字符串解析"],"fullName":"Service: variables/parser parseValue 字符串解析 应该解析双引号字符串","status":"passed","title":"应该解析双引号字符串","duration":0.3922000000002299,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","字符串解析"],"fullName":"Service: variables/parser parseValue 字符串解析 应该处理空字符串","status":"passed","title":"应该处理空字符串","duration":0.29260000000022046,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","布尔值解析"],"fullName":"Service: variables/parser parseValue 布尔值解析 应该解析 true","status":"passed","title":"应该解析 true","duration":0.2968999999998232,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","布尔值解析"],"fullName":"Service: variables/parser parseValue 布尔值解析 应该解析 false","status":"passed","title":"应该解析 false","duration":0.46649999999999636,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","null/undefined 解析"],"fullName":"Service: variables/parser parseValue null/undefined 解析 应该解析 null","status":"passed","title":"应该解析 null","duration":0.810399999999845,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","null/undefined 解析"],"fullName":"Service: variables/parser parseValue null/undefined 解析 应该解析 undefined","status":"passed","title":"应该解析 undefined","duration":0.45959999999968204,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","JSON 解析"],"fullName":"Service: variables/parser parseValue JSON 解析 应该解析 JSON 对象","status":"passed","title":"应该解析 JSON 对象","duration":1.1235999999998967,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","JSON 解析"],"fullName":"Service: variables/parser parseValue JSON 解析 应该解析 JSON 数组","status":"passed","title":"应该解析 JSON 数组","duration":0.37390000000004875,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","JSON 解析"],"fullName":"Service: variables/parser parseValue JSON 解析 应该处理无效 JSON 并返回原字符串","status":"passed","title":"应该处理无效 JSON 并返回原字符串","duration":0.29320000000006985,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseValue","默认行为"],"fullName":"Service: variables/parser parseValue 默认行为 无法匹配的值应该返回原字符串","status":"passed","title":"无法匹配的值应该返回原字符串","duration":0.27959999999984575,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseGtsUpdateCommands","基本解析"],"fullName":"Service: variables/parser parseGtsUpdateCommands 基本解析 应该解析单个 gts_update 标签","status":"passed","title":"应该解析单个 gts_update 标签","duration":2.1740999999997257,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseGtsUpdateCommands","基本解析"],"fullName":"Service: variables/parser parseGtsUpdateCommands 基本解析 应该解析多个 _.set 命令","status":"passed","title":"应该解析多个 _.set 命令","duration":0.5543999999999869,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseGtsUpdateCommands","基本解析"],"fullName":"Service: variables/parser parseGtsUpdateCommands 基本解析 应该解析双引号路径","status":"passed","title":"应该解析双引号路径","duration":0.39249999999992724,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseGtsUpdateCommands","多个标签"],"fullName":"Service: variables/parser parseGtsUpdateCommands 多个标签 应该解析多个 gts_update 标签","status":"passed","title":"应该解析多个 gts_update 标签","duration":0.41309999999975844,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseGtsUpdateCommands","边界情况"],"fullName":"Service: variables/parser parseGtsUpdateCommands 边界情况 应该处理空文本","status":"passed","title":"应该处理空文本","duration":0.2640000000001237,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseGtsUpdateCommands","边界情况"],"fullName":"Service: variables/parser parseGtsUpdateCommands 边界情况 应该处理没有 gts_update 标签的文本","status":"passed","title":"应该处理没有 gts_update 标签的文本","duration":0.17459999999982756,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseGtsUpdateCommands","边界情况"],"fullName":"Service: variables/parser parseGtsUpdateCommands 边界情况 应该处理空的 gts_update 标签","status":"passed","title":"应该处理空的 gts_update 标签","duration":0.37530000000015207,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseGtsUpdateCommands","边界情况"],"fullName":"Service: variables/parser parseGtsUpdateCommands 边界情况 应该处理没有分号的命令","status":"passed","title":"应该处理没有分号的命令","duration":0.40990000000010696,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseGtsUpdateCommands","边界情况"],"fullName":"Service: variables/parser parseGtsUpdateCommands 边界情况 应该忽略大小写的标签","status":"passed","title":"应该忽略大小写的标签","duration":0.27340000000003783,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseStandaloneSetCommands"],"fullName":"Service: variables/parser parseStandaloneSetCommands 应该解析独立的 _.set 命令","status":"passed","title":"应该解析独立的 _.set 命令","duration":6.893100000000231,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseStandaloneSetCommands"],"fullName":"Service: variables/parser parseStandaloneSetCommands 应该跳过 gts_update 标签内的命令","status":"passed","title":"应该跳过 gts_update 标签内的命令","duration":0.6891999999998006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseStandaloneSetCommands"],"fullName":"Service: variables/parser parseStandaloneSetCommands 应该只解析包含正确前缀的命令","status":"passed","title":"应该只解析包含正确前缀的命令","duration":0.7726999999999862,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseAllUpdateCommands"],"fullName":"Service: variables/parser parseAllUpdateCommands 应该合并标签内和独立的命令","status":"passed","title":"应该合并标签内和独立的命令","duration":0.5898000000001957,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","parseAllUpdateCommands"],"fullName":"Service: variables/parser parseAllUpdateCommands 应该去重相同路径的更新（后者覆盖前者）","status":"passed","title":"应该去重相同路径的更新（后者覆盖前者）","duration":0.6165000000000873,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","hasUpdateCommands"],"fullName":"Service: variables/parser hasUpdateCommands 应该检测 gts_update 标签","status":"passed","title":"应该检测 gts_update 标签","duration":0.5046999999999571,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","hasUpdateCommands"],"fullName":"Service: variables/parser hasUpdateCommands 应该检测独立的 _.set 命令","status":"passed","title":"应该检测独立的 _.set 命令","duration":1.141700000000128,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","hasUpdateCommands"],"fullName":"Service: variables/parser hasUpdateCommands 应该对普通文本返回 false","status":"passed","title":"应该对普通文本返回 false","duration":1.1020000000003165,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","hasUpdateCommands"],"fullName":"Service: variables/parser hasUpdateCommands 应该对不包含正确前缀的 _.set 返回 false","status":"passed","title":"应该对不包含正确前缀的 _.set 返回 false","duration":1.0379000000002634,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","getAffectedCharacters"],"fullName":"Service: variables/parser getAffectedCharacters 应该提取单个角色名","status":"passed","title":"应该提取单个角色名","duration":0.6334999999999127,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","getAffectedCharacters"],"fullName":"Service: variables/parser getAffectedCharacters 应该提取多个角色名","status":"passed","title":"应该提取多个角色名","duration":0.7469999999998436,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","getAffectedCharacters"],"fullName":"Service: variables/parser getAffectedCharacters 应该去重角色名","status":"passed","title":"应该去重角色名","duration":0.35370000000011714,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","getAffectedCharacters"],"fullName":"Service: variables/parser getAffectedCharacters 应该忽略非角色路径","status":"passed","title":"应该忽略非角色路径","duration":0.3589999999999236,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/parser","getAffectedCharacters"],"fullName":"Service: variables/parser getAffectedCharacters 应该处理空数组","status":"passed","title":"应该处理空数组","duration":0.3317000000001826,"failureMessages":[],"meta":{}}],"startTime":1770124079216,"endTime":1770124079246.359,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/services/variables/parser.test.ts"},{"assertionResults":[{"ancestorTitles":["Service: variables/reader","readGiantessData"],"fullName":"Service: variables/reader readGiantessData 应该读取到巨大娘数据","status":"passed","title":"应该读取到巨大娘数据","duration":7.158399999999801,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readGiantessData"],"fullName":"Service: variables/reader readGiantessData 当没有数据时应该返回 null","status":"passed","title":"当没有数据时应该返回 null","duration":0.8132999999997992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readGiantessData"],"fullName":"Service: variables/reader readGiantessData 当 stat_data 为空时应该返回 null","status":"passed","title":"当 stat_data 为空时应该返回 null","duration":0.8157999999998538,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readGiantessData"],"fullName":"Service: variables/reader readGiantessData 应该使用设置中的变量前缀","status":"passed","title":"应该使用设置中的变量前缀","duration":1.271099999999933,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readGiantessData"],"fullName":"Service: variables/reader readGiantessData 应该支持指定 messageId","status":"passed","title":"应该支持指定 messageId","duration":2.428899999999885,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","extractCharacters","新格式数据"],"fullName":"Service: variables/reader extractCharacters 新格式数据 应该从新格式中提取角色","status":"passed","title":"应该从新格式中提取角色","duration":0.9354000000002998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","extractCharacters","旧格式数据兼容"],"fullName":"Service: variables/reader extractCharacters 旧格式数据兼容 应该从旧格式中提取角色","status":"passed","title":"应该从旧格式中提取角色","duration":0.28690000000005966,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","extractCharacters","旧格式数据兼容"],"fullName":"Service: variables/reader extractCharacters 旧格式数据兼容 应该过滤掉以 _ 开头的键","status":"passed","title":"应该过滤掉以 _ 开头的键","duration":0.3447999999998501,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","extractCharacters","旧格式数据兼容"],"fullName":"Service: variables/reader extractCharacters 旧格式数据兼容 应该过滤掉没有身高字段的对象","status":"passed","title":"应该过滤掉没有身高字段的对象","duration":0.572400000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","extractCharacters","旧格式数据兼容"],"fullName":"Service: variables/reader extractCharacters 旧格式数据兼容 应该支持「身高」作为「当前身高」的别名","status":"passed","title":"应该支持「身高」作为「当前身高」的别名","duration":0.21370000000024447,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","extractCharacters","边界情况"],"fullName":"Service: variables/reader extractCharacters 边界情况 应该处理空数据","status":"passed","title":"应该处理空数据","duration":0.2481999999999971,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","extractCharacters","边界情况"],"fullName":"Service: variables/reader extractCharacters 边界情况 应该处理空的角色对象","status":"passed","title":"应该处理空的角色对象","duration":0.18260000000009313,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readCharacterData"],"fullName":"Service: variables/reader readCharacterData 应该读取指定角色的数据","status":"passed","title":"应该读取指定角色的数据","duration":0.5189000000000306,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readCharacterData"],"fullName":"Service: variables/reader readCharacterData 当角色不存在时应该返回 null","status":"passed","title":"当角色不存在时应该返回 null","duration":0.37550000000010186,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readCharacterData"],"fullName":"Service: variables/reader readCharacterData 当没有巨大娘数据时应该返回 null","status":"passed","title":"当没有巨大娘数据时应该返回 null","duration":0.45380000000022847,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readScenarioData"],"fullName":"Service: variables/reader readScenarioData 应该读取场景数据","status":"passed","title":"应该读取场景数据","duration":0.7029999999999745,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readScenarioData"],"fullName":"Service: variables/reader readScenarioData 当没有场景数据时应该返回 null","status":"passed","title":"当没有场景数据时应该返回 null","duration":0.4234999999998763,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","hasGiantessData"],"fullName":"Service: variables/reader hasGiantessData 当有角色数据时应该返回 true","status":"passed","title":"当有角色数据时应该返回 true","duration":0.44630000000006476,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","hasGiantessData"],"fullName":"Service: variables/reader hasGiantessData 当没有角色时应该返回 false","status":"passed","title":"当没有角色时应该返回 false","duration":0.35079999999970823,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","hasGiantessData"],"fullName":"Service: variables/reader hasGiantessData 当没有巨大娘数据时应该返回 false","status":"passed","title":"当没有巨大娘数据时应该返回 false","duration":0.3231999999998152,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","getCharacterNames"],"fullName":"Service: variables/reader getCharacterNames 应该返回所有角色名称","status":"passed","title":"应该返回所有角色名称","duration":1.2696000000000822,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","getCharacterNames"],"fullName":"Service: variables/reader getCharacterNames 当没有角色时应该返回空数组","status":"passed","title":"当没有角色时应该返回空数组","duration":0.6206999999999425,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","getCharacterNames"],"fullName":"Service: variables/reader getCharacterNames 当没有数据时应该返回空数组","status":"passed","title":"当没有数据时应该返回空数组","duration":0.358600000000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readRawVariables"],"fullName":"Service: variables/reader readRawVariables 应该返回原始变量对象","status":"passed","title":"应该返回原始变量对象","duration":0.22440000000005966,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/reader","readRawVariables"],"fullName":"Service: variables/reader readRawVariables 当读取失败时应该返回空对象","status":"passed","title":"当读取失败时应该返回空对象","duration":6.135299999999916,"failureMessages":[],"meta":{}}],"startTime":1770124079162,"endTime":1770124079190.1353,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/services/variables/reader.test.ts"},{"assertionResults":[{"ancestorTitles":["Service: variables/sync","syncVariablesToStore","基本同步"],"fullName":"Service: variables/sync syncVariablesToStore 基本同步 应该同步单个角色到 Store","status":"passed","title":"应该同步单个角色到 Store","duration":9.441100000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncVariablesToStore","基本同步"],"fullName":"Service: variables/sync syncVariablesToStore 基本同步 应该同步多个角色到 Store","status":"passed","title":"应该同步多个角色到 Store","duration":1.9098000000003594,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncVariablesToStore","计算数据"],"fullName":"Service: variables/sync syncVariablesToStore 计算数据 应该为巨大娘计算数据","status":"passed","title":"应该为巨大娘计算数据","duration":1.03899999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncVariablesToStore","计算数据"],"fullName":"Service: variables/sync syncVariablesToStore 计算数据 应该为小人计算数据","status":"passed","title":"应该为小人计算数据","duration":0.7453000000000429,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncVariablesToStore","计算数据"],"fullName":"Service: variables/sync syncVariablesToStore 计算数据 当启用损害计算时应该计算损害数据","status":"passed","title":"当启用损害计算时应该计算损害数据","duration":2.093500000000404,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncVariablesToStore","身高历史"],"fullName":"Service: variables/sync syncVariablesToStore 身高历史 应该同步身高历史记录","status":"passed","title":"应该同步身高历史记录","duration":1.6689000000001215,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncVariablesToStore","边界情况"],"fullName":"Service: variables/sync syncVariablesToStore 边界情况 当没有数据时应该清空 Store","status":"failed","title":"当没有数据时应该清空 Store","duration":5.423899999999776,"failureMessages":["AssertionError: expected undefined to be null\n    at K:\\AiChat\\巨大娘计算器\\tests\\services\\variables\\sync.test.ts:192:53\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncVariablesToStore","边界情况"],"fullName":"Service: variables/sync syncVariablesToStore 边界情况 应该使用默认原身高 1.65","status":"passed","title":"应该使用默认原身高 1.65","duration":1.1622000000002117,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncVariablesToStore","边界情况"],"fullName":"Service: variables/sync syncVariablesToStore 边界情况 应该支持「身高」作为「当前身高」的别名","status":"passed","title":"应该支持「身高」作为「当前身高」的别名","duration":1.1453000000001339,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncVariablesToStore","边界情况"],"fullName":"Service: variables/sync syncVariablesToStore 边界情况 应该跳过无效身高的角色","status":"failed","title":"应该跳过无效身高的角色","duration":1.2715000000002874,"failureMessages":["AssertionError: expected undefined to be null\n    at K:\\AiChat\\巨大娘计算器\\tests\\services\\variables\\sync.test.ts:249:54\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncStoreToVariables"],"fullName":"Service: variables/sync syncStoreToVariables 应该将 Store 数据同步回变量","status":"passed","title":"应该将 Store 数据同步回变量","duration":1.1726999999996224,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncStoreToVariables"],"fullName":"Service: variables/sync syncStoreToVariables 当 Store 为空时应该跳过同步","status":"passed","title":"当 Store 为空时应该跳过同步","duration":0.4578999999998814,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","syncStoreToVariables"],"fullName":"Service: variables/sync syncStoreToVariables 应该同步多个角色","status":"passed","title":"应该同步多个角色","duration":0.5504000000000815,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","reinjectPromptsIfNeeded"],"fullName":"Service: variables/sync reinjectPromptsIfNeeded 当脚本禁用时不应该注入","status":"passed","title":"当脚本禁用时不应该注入","duration":0.3663000000001375,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","reinjectPromptsIfNeeded"],"fullName":"Service: variables/sync reinjectPromptsIfNeeded 当自动注入禁用时不应该注入","status":"passed","title":"当自动注入禁用时不应该注入","duration":0.3216000000002168,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/sync","reinjectPromptsIfNeeded"],"fullName":"Service: variables/sync reinjectPromptsIfNeeded 当启用且有角色时应该尝试注入","status":"failed","title":"当启用且有角色时应该尝试注入","duration":7.556999999999789,"failureMessages":["AssertionError: expected [Function] to not throw an error but 'ReferenceError: injectPrompts is not …' was thrown\n    at Proxy.<anonymous> (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+expect@3.2.4/node_modules/@vitest/expect/dist/index.js:1420:16)\n    at Proxy.<anonymous> (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+expect@3.2.4/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/chai@5.3.3/node_modules/chai/index.js:1686:25)\n    at K:\\AiChat\\巨大娘计算器\\tests\\services\\variables\\sync.test.ts:346:51\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///K:/AiChat/%E5%B7%A8%E5%A4%A7%E5%A8%98%E8%AE%A1%E7%AE%97%E5%99%A8/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)"],"meta":{}}],"startTime":1770124079840,"endTime":1770124079877.557,"status":"failed","message":"","name":"K:/AiChat/巨大娘计算器/tests/services/variables/sync.test.ts"},{"assertionResults":[{"ancestorTitles":["Service: variables/writer","getCharacterPath"],"fullName":"Service: variables/writer getCharacterPath 应该生成正确的角色路径","status":"passed","title":"应该生成正确的角色路径","duration":2.069500000000062,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","getCharacterPath"],"fullName":"Service: variables/writer getCharacterPath 应该使用自定义前缀","status":"passed","title":"应该使用自定义前缀","duration":0.24690000000009604,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","getCharacterPath"],"fullName":"Service: variables/writer getCharacterPath 应该处理特殊字符的角色名","status":"passed","title":"应该处理特殊字符的角色名","duration":0.24549999999999272,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","writeCharacterCalcData"],"fullName":"Service: variables/writer writeCharacterCalcData 应该写入计算数据","status":"passed","title":"应该写入计算数据","duration":7.410499999999956,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","writeCharacterCalcData"],"fullName":"Service: variables/writer writeCharacterCalcData 应该支持指定 messageId","status":"passed","title":"应该支持指定 messageId","duration":3.4329999999999927,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","writeCharacterDamageData"],"fullName":"Service: variables/writer writeCharacterDamageData 应该写入损害数据","status":"passed","title":"应该写入损害数据","duration":1.2889000000000124,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","addHeightHistoryInternal"],"fullName":"Service: variables/writer addHeightHistoryInternal 应该添加历史记录到变量对象","status":"passed","title":"应该添加历史记录到变量对象","duration":1.8650000000002365,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","addHeightHistoryInternal"],"fullName":"Service: variables/writer addHeightHistoryInternal 当身高没有变化时不应该添加记录","status":"passed","title":"当身高没有变化时不应该添加记录","duration":0.8595000000000255,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","addHeightHistoryInternal"],"fullName":"Service: variables/writer addHeightHistoryInternal 应该记录变化类型（增大/缩小）","status":"passed","title":"应该记录变化类型（增大/缩小）","duration":21.467799999999897,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","addHeightHistoryInternal"],"fullName":"Service: variables/writer addHeightHistoryInternal 应该限制历史记录数量","status":"passed","title":"应该限制历史记录数量","duration":2.0205000000000837,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","batchUpdateCharacters"],"fullName":"Service: variables/writer batchUpdateCharacters 应该批量更新多个角色","status":"passed","title":"应该批量更新多个角色","duration":1.945799999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","batchUpdateCharacters"],"fullName":"Service: variables/writer batchUpdateCharacters 应该跳过空更新数组","status":"passed","title":"应该跳过空更新数组","duration":1.0182999999997264,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","batchUpdateCharacters"],"fullName":"Service: variables/writer batchUpdateCharacters 应该跳过 undefined 值","status":"passed","title":"应该跳过 undefined 值","duration":0.5280999999999949,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","writeInteractionLimits"],"fullName":"Service: variables/writer writeInteractionLimits 应该写入互动限制数据","status":"passed","title":"应该写入互动限制数据","duration":0.47599999999965803,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","writeScenarioData"],"fullName":"Service: variables/writer writeScenarioData 应该写入场景数据","status":"passed","title":"应该写入场景数据","duration":0.4715000000001055,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","writeScenarioData"],"fullName":"Service: variables/writer writeScenarioData 应该支持不带原因的场景","status":"passed","title":"应该支持不带原因的场景","duration":0.423200000000179,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","deleteCharacterData"],"fullName":"Service: variables/writer deleteCharacterData 应该删除角色数据","status":"passed","title":"应该删除角色数据","duration":0.656800000000203,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","clearAllGiantessData"],"fullName":"Service: variables/writer clearAllGiantessData 应该清空所有巨大娘数据","status":"passed","title":"应该清空所有巨大娘数据","duration":0.399199999999837,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","migrateOldDataFormat"],"fullName":"Service: variables/writer migrateOldDataFormat 应该迁移旧格式数据到新格式","status":"passed","title":"应该迁移旧格式数据到新格式","duration":0.5585000000000946,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","migrateOldDataFormat"],"fullName":"Service: variables/writer migrateOldDataFormat 对于已经是新格式的数据应该返回 0","status":"passed","title":"对于已经是新格式的数据应该返回 0","duration":0.33670000000029177,"failureMessages":[],"meta":{}},{"ancestorTitles":["Service: variables/writer","migrateOldDataFormat"],"fullName":"Service: variables/writer migrateOldDataFormat 当没有数据时应该返回 0","status":"passed","title":"当没有数据时应该返回 0","duration":0.3077000000002954,"failureMessages":[],"meta":{}}],"startTime":1770124079214,"endTime":1770124079263.3367,"status":"passed","message":"","name":"K:/AiChat/巨大娘计算器/tests/services/variables/writer.test.ts"}]}
 ELIFECYCLE  Command failed with exit code 1.
