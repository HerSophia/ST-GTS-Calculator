# å·¨å¤§å¨˜è®¡ç®—å™¨ (ST-GTS-Calculator)

> é…’é¦†åŠ©æ‰‹è„šæœ¬ - ç”¨äºã€Œå·¨å¤§å¨˜ã€è§’è‰²æ‰®æ¼”çš„è¾…åŠ©å·¥å…·

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ”¢ **èº«ä½“æ•°æ®è®¡ç®—** - æ ¹æ®èº«é«˜è‡ªåŠ¨è®¡ç®—èº«ä½“å„éƒ¨ä½å°ºå¯¸ï¼ˆè¶³é•¿ã€æ‰‹æŒã€èƒ¸éƒ¨ç­‰ï¼‰
- ğŸ“ **ç›¸å¯¹å°ºå¯¸å‚ç…§** - è®¡ç®—å‚è€ƒç‰©ï¼ˆäººã€å»ºç­‘ã€å¤©ä½“ï¼‰åœ¨å·¨å¤§å¨˜çœ¼ä¸­çš„ç›¸å¯¹å¤§å°
- ğŸš« **äº’åŠ¨é™åˆ¶æ£€æŸ¥** - åˆ¤æ–­å“ªäº›äº’åŠ¨åœ¨ç‰©ç†ä¸Šåˆç†ï¼Œå¹¶æä¾›æ›¿ä»£æ–¹æ¡ˆ
- ğŸ’¥ **æŸå®³è®¡ç®—ç³»ç»Ÿ** - è®¡ç®—å·¨å¤§å¨˜è¡ŒåŠ¨é€ æˆçš„ç ´åï¼ˆä¼¤äº¡ã€å»ºç­‘æŸæ¯ç­‰ï¼‰
- ğŸ’‰ **æç¤ºè¯è‡ªåŠ¨æ³¨å…¥** - å°†è®¡ç®—æ•°æ®è‡ªåŠ¨æ³¨å…¥åˆ° LLM æç¤ºè¯ä¸­
- ğŸ“œ **èº«é«˜å†å²è®°å½•** - è®°å½•è§’è‰²èº«é«˜å˜åŒ–å†ç¨‹
- ğŸŒ **ä¸–ç•Œè§‚æ¨¡æ¿ç³»ç»Ÿ** - æ”¯æŒä¸åŒè®¾å®šä¸‹çš„å˜åŒ–æœºåˆ¶
- ğŸ”Œ **å†…ç½® MVU é›†æˆ** - é›¶é…ç½®å¼€ç®±å³ç”¨
- ğŸ¨ **ç°ä»£åŒ– UI** - ä¼˜é›…ç®€çº¦çš„å¡ç‰‡å¼è®¾è®¡

## ğŸ“¦ å®‰è£…æ•™ç¨‹

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…é…’é¦†åŠ©æ‰‹

å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£…é…’é¦†åŠ©æ‰‹ï¼Œè¯·å…ˆå‚è€ƒå®˜æ–¹æ–‡æ¡£è¿›è¡Œå®‰è£…ï¼š

ğŸ‘‰ [é…’é¦†åŠ©æ‰‹å®‰è£…æ•™ç¨‹](https://n0vi028.github.io/JS-Slash-Runner-Doc/guide/%E5%85%B3%E4%BA%8E%E9%85%92%E9%A6%86%E5%8A%A9%E6%89%8B/%E5%AE%89%E8%A3%85%E4%B8%8E%E6%9B%B4%E6%96%B0.html)

### ç¬¬äºŒæ­¥ï¼šå¯¼å…¥è„šæœ¬

1. å‰å¾€ [Releases é¡µé¢](https://github.com/HerSophia/ST-GTS-Calculator/releases/latest) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ `GTS-Calculator-vX.X.X.json` æ–‡ä»¶
2. åœ¨ SillyTavern é¡¶éƒ¨æ ç‚¹å‡» **æ‰©å±•** â†’ **é…’é¦†åŠ©æ‰‹** â†’ **è„šæœ¬åº“**
3. ç‚¹å‡» **å¯¼å…¥è„šæœ¬**ï¼Œé€‰æ‹©ä¸‹è½½çš„ JSON æ–‡ä»¶
4. é€‰æ‹© **å…¨å±€è„šæœ¬**
5. å¯¼å…¥å**å¯ç”¨è„šæœ¬**
6. åœ¨æ‰©å±•åˆ—è¡¨ä¸­åº”è¯¥èƒ½çœ‹åˆ°ã€Œå·¨å¤§å¨˜è®¡ç®—å™¨ã€æ‰©å±•

### ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å®‰è£…

å®‰è£…æˆåŠŸåï¼Œä½ å¯ä»¥åœ¨æ‰©å±•è®¾ç½®é¢æ¿ä¸­çœ‹åˆ°ã€Œå·¨å¤§å¨˜è®¡ç®—å™¨ã€çš„è®¾ç½®ç•Œé¢ã€‚

## ğŸ“– ä½¿ç”¨æ•™ç¨‹

### æ–¹æ³•ä¸€ï¼šå¿«é€Ÿè®¡ç®—

åœ¨è®¾ç½®é¢æ¿ä¸­è¾“å…¥èº«é«˜å’ŒåŸèº«é«˜ï¼Œç‚¹å‡»è®¡ç®—æŒ‰é’®å³å¯é¢„è§ˆæ•°æ®ã€‚é€‚åˆå¿«é€ŸæŸ¥çœ‹æŸä¸ªèº«é«˜å¯¹åº”çš„èº«ä½“æ•°æ®ã€‚

### æ–¹æ³•äºŒï¼šMVU é›†æˆï¼ˆæ¨èï¼‰

è„šæœ¬å†…ç½®äº† MVU åº“ï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£…ã€‚åœ¨ä¸–ç•Œä¹¦æˆ–æç¤ºè¯ä¸­ç›´æ¥ä½¿ç”¨ MVU å‘½ä»¤è®¾ç½®è§’è‰²èº«é«˜ï¼š

```javascript
// è®¾ç½®è§’è‰²æ•°æ®
_.set('å·¨å¤§å¨˜.ç»œç»œ.å½“å‰èº«é«˜', 170)      // å½“å‰èº«é«˜ï¼ˆç±³ï¼‰
_.set('å·¨å¤§å¨˜.ç»œç»œ.åŸèº«é«˜', 1.65)       // åŸå§‹èº«é«˜ï¼ˆç±³ï¼‰
_.set('å·¨å¤§å¨˜.ç»œç»œ.å˜åŒ–åŸå› ', 'å–ä¸‹è¯æ°´') // å¯é€‰ï¼šå˜åŒ–åŸå› 
_.set('å·¨å¤§å¨˜.ç»œç»œ.å˜åŒ–æ—¶é—´', 'ç¬¬ä¸‰å¤©')  // å¯é€‰ï¼šå˜åŒ–æ—¶é—´ç‚¹
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ£€æµ‹èº«é«˜å˜åŒ–
2. è®¡ç®—å®Œæ•´çš„èº«ä½“æ•°æ®
3. è®°å½•èº«é«˜å†å²
4. å°†æ•°æ®æ³¨å…¥åˆ°æç¤ºè¯ä¸­

### å•ç‹¬éƒ¨ä½å˜åŒ–

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰èº«ä½“éƒ¨ä½æŒ‰ç…§èº«é«˜å€ç‡ç­‰æ¯”ä¾‹ç¼©æ”¾ã€‚ä½†ä½ å¯ä»¥ä¸ºç‰¹å®šéƒ¨ä½æŒ‡å®šç‹¬ç«‹çš„å°ºå¯¸ï¼š

```javascript
// è®¾ç½®è§’è‰²æ•´ä½“èº«é«˜ä¸º 170 ç±³ï¼ˆçº¦ 103 å€ï¼‰
_.set('å·¨å¤§å¨˜.ç»œç»œ.å½“å‰èº«é«˜', 170);
_.set('å·¨å¤§å¨˜.ç»œç»œ.åŸèº«é«˜', 1.65);

// å•ç‹¬è®¾ç½®èƒ¸éƒ¨å°ºå¯¸ä¸º 28 ç±³ï¼ˆçº¦ 200 å€ï¼Œæ¯”æ•´ä½“æ›´å¤§ï¼‰
_.set('å·¨å¤§å¨˜.ç»œç»œ.è‡ªå®šä¹‰éƒ¨ä½.ä¹³æˆ¿é«˜åº¦', 28);

// å•ç‹¬è®¾ç½®è„šæŒä¸º 40 ç±³ï¼ˆçº¦ 160 å€ï¼‰
_.set('å·¨å¤§å¨˜.ç»œç»œ.è‡ªå®šä¹‰éƒ¨ä½.è¶³é•¿', 40);
```

### åœºæ™¯è®¾ç½®

æŸå®³è®¡ç®—ä¼šæ ¹æ®å½“å‰åœºæ™¯çš„äººå£å¯†åº¦æ¥ä¼°ç®—ä¼¤äº¡å’Œç ´åã€‚è®© LLM åœ¨å‰§æƒ…å‘å±•ä¸­è‡ªåŠ¨è®¾ç½®å½“å‰åœºæ™¯ï¼š

```javascript
_.set('å·¨å¤§å¨˜._åœºæ™¯.å½“å‰åœºæ™¯', 'å¤§åŸå¸‚');
_.set('å·¨å¤§å¨˜._åœºæ™¯.åœºæ™¯åŸå› ', 'è§’è‰²æ¥åˆ°äº†å¸‚ä¸­å¿ƒ');  // å¯é€‰
```

å¯ç”¨åœºæ™¯ï¼šè’é‡ã€ä¹¡æ‘ã€éƒŠåŒºã€å°åŸå¸‚ã€ä¸­ç­‰åŸå¸‚ã€å¤§åŸå¸‚ã€è¶…å¤§åŸå¸‚ä¸­å¿ƒã€ä¸œäº¬å¸‚ä¸­å¿ƒã€é¦™æ¸¯ã€é©¬å°¼æ‹‰ã€ä½å®…å†…ã€å…¬å¯“æ¥¼å†…ã€åŠå…¬æ¥¼å†…ã€ä½“è‚²é¦†å†…ã€å·¨å¤§å¨˜ä½“å†…

### å®é™…æŸå®³è®°å½•

è®© LLM åœ¨å‰§æƒ…ä¸­è®°å½•å®é™…é€ æˆçš„æŸå®³ï¼š

```javascript
// è®°å½•ç´¯è®¡æŸå®³
_.set('å·¨å¤§å¨˜.ç»œç»œ._å®é™…æŸå®³.æ€»ä¼¤äº¡äººæ•°', 15000);
_.set('å·¨å¤§å¨˜.ç»œç»œ._å®é™…æŸå®³.æ€»å»ºç­‘æŸæ¯', 50);

// è®°å½•æœ€è¿‘ä¸€æ¬¡è¡ŒåŠ¨
_.set('å·¨å¤§å¨˜.ç»œç»œ._å®é™…æŸå®³.æœ€è¿‘è¡ŒåŠ¨', {
  æè¿°: 'åœ¨å¸‚ä¸­å¿ƒè¸©ä¸‹ä¸€è„š',
  ä¼¤äº¡äººæ•°: 500,
  å»ºç­‘æŸæ¯: 5
});
```

### æ›´å¤šåŠŸèƒ½

- ğŸŒ **ä¸–ç•Œè§‚æ¨¡æ¿** - æ”¯æŒ 8 ç§å†…ç½®ä¸–ç•Œè§‚ï¼ˆç°å®ç‰©ç†ã€ç„å¹»ä¿®ä»™ã€ç§‘å¹»ç§‘æŠ€ç­‰ï¼‰
- ğŸ“ **æç¤ºè¯æ¨¡æ¿** - è‡ªå®šä¹‰æ³¨å…¥åˆ° AI çš„æç¤ºè¯å†…å®¹
- ğŸ”§ **æ‰©å±•ç³»ç»Ÿ** - å¯æ’æ‹”çš„åŠŸèƒ½æ¨¡å—ï¼ˆå¦‚æŸå®³è®¡ç®—ï¼‰
- ğŸª² **è°ƒè¯•æ¨¡å¼** - å®æ—¶ç›‘æ§ MVU çŠ¶æ€å’Œæ•°æ®æµ

è¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒ [src/README.md](./src/README.md)ã€‚

## ğŸ® å…¨å±€ API

è„šæœ¬ä¼šæš´éœ² `window.GiantessCalc` å¯¹è±¡ï¼Œå¯åœ¨æ§åˆ¶å°æˆ–å…¶ä»–è„šæœ¬ä¸­ä½¿ç”¨ï¼š

```javascript
// è®¡ç®—å·¨å¤§å¨˜æ•°æ®
GiantessCalc.calculate(170, 1.65)

// è®¡ç®—å°äººæ•°æ®
GiantessCalc.calculateTiny(0.017, 1.70)

// æ£€æŸ¥äº’åŠ¨é™åˆ¶
GiantessCalc.checkInteraction(170, 0.017)

// æ ¼å¼åŒ–é•¿åº¦
GiantessCalc.formatLength(1500)  // "1.5å…¬é‡Œ"

// è°ƒè¯•åŠŸèƒ½
GiantessCalc.debug.getMvuInfo()
GiantessCalc.debug.injectTestData('è§’è‰²å', 100, 1.65)
```

## ğŸ“Š çº§åˆ«è¯´æ˜

### å·¨å¤§åŒ–çº§åˆ«

| çº§åˆ« | å€ç‡èŒƒå›´ | æè¿° |
| ---- | -------- | ---- |
| Miniçº§ | 1-10x | å‡ ç±³åˆ°åå‡ ç±³ |
| åå€ | 10-100x | å»ºç­‘å¦‚ç©å…· |
| Kiloçº§ | 100-1000x | åŸå¸‚è¸©åœ¨è„šä¸‹ |
| Megaçº§ | 1ä¸‡-100ä¸‡x | è§¦åŠäº‘å±‚åˆ°è¡Œæ˜Ÿå°ºåº¦ |
| Gigaçº§ | 100ä¸‡-10äº¿x | æ˜Ÿçƒå¦‚ç©å…· |
| Teraçº§ | 10äº¿-ä¸‡äº¿x | æ’æ˜Ÿç³»ç©¿è¡Œ |
| å®‡å®™çº§ | >ä¸‡äº¿x | è¶…è¶Šå¯è§‚æµ‹å®‡å®™ |

### ç¼©å°çº§åˆ«

| çº§åˆ« | å€ç‡ | æè¿° |
| ---- | ---- | ---- |
| ååˆ†ä¹‹ä¸€ | 0.1x | å¦‚å® ç‰© |
| ç™¾åˆ†ä¹‹ä¸€ | 0.01x | å¦‚è™«å­ |
| æ¯«ç±³çº§ | 0.001x | èš‚èšå¦‚çŒ›å…½ |
| å¾®ç±³çº§ | 0.000001x | ç»†èƒå°ºåº¦ |
| çº³ç±³çº§ | 0.000000001x | åˆ†å­å°ºåº¦ |

## ğŸ”§ å¼€å‘è€…ä¿¡æ¯

æœ¬é¡¹ç›®åŸºäº [tavern_helper_template](https://github.com/StageDog/tavern_helper_template) æ¨¡æ¿å¼€å‘ã€‚

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
pnpm watch

# ç”Ÿäº§æ„å»º
pnpm build

# æ„å»ºå¹¶æ³¨å…¥åˆ° JSON
pnpm build:inject

# è¿è¡Œæµ‹è¯•
pnpm test
```

### é¡¹ç›®æ¶æ„

é¡¹ç›®é‡‡ç”¨**åˆ†å±‚æ¶æ„**è®¾è®¡ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        UI Layer (Vue)                           â”‚
â”‚  Panel.vue â†’ panels/* â†’ features/* â†’ components/*               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      Composables Layer                          â”‚
â”‚  useCalculator, useCharacters, useSettings, useDebug, ...       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       Services Layer                            â”‚
â”‚  calculator/, prompt/, mvu/, extensions/, debug/                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       Stores Layer (Pinia)                      â”‚
â”‚  settings, characters, prompts, worldviews                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        Core Layer (Pure)                        â”‚
â”‚  calculator, formatter, damage, interactions, constants         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¯¦ç»†æ¶æ„è¯´æ˜è¯·å‚è€ƒ [src/README.md](./src/README.md)ã€‚

## ğŸ“„ è®¸å¯è¯

[Aladdin](LICENSE)
